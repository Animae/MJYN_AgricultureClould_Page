webpackJsonp([12],{"./app/containers/FarmPage/sagas.js":function(t,n,e){"use strict";function a(t){var n,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=l.serverHost+"/api/farm?farmId="+t.payload,r.next=4,e.i(i.call)(c.a,n,{method:"GET",credentials:"include"});case 4:if(a=r.sent,!a.data){r.next=16;break}return r.next=8,e.i(i.put)(e.i(u.f)(e.i(d.a)(a.data)));case 8:return r.next=10,e.i(i.put)(e.i(u.g)(a.data.id));case 10:return r.next=12,e.i(i.put)(e.i(s.h)());case 12:return r.next=14,e.i(i.call)(p.toast.info,"农场信息加载成功");case 14:r.next=18;break;case 16:return r.next=18,e.i(i.call)(p.toast.error,"农场数据加载失败, "+a.message);case 18:r.next=26;break;case 20:return r.prev=20,r.t0=r.catch(0),r.next=24,e.i(i.call)(p.toast.error,"农场数据加载失败, 请稍后刷新页面重试");case 24:return r.next=26,e.i(i.call)(p.toast.error,JSON.stringify(r.t0));case 26:case"end":return r.stop()}},f[0],this,[[0,20]])}function r(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.i(i.takeEvery)(o.e,a);case 2:case"end":return t.stop()}},f[1],this)}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./node_modules/redux-saga/effects.js"),o=(e.n(i),e("./app/containers/FarmPage/constants.js")),u=e("./app/containers/FarmPage/actions.js"),s=e("./app/containers/PlotPage/actions.js"),c=e("./app/utils/request.js"),p=e("./node_modules/react-toastify/lib/index.js"),l=(e.n(p),e("./config/index.js")),d=(e.n(l),e("./app/containers/FarmPage/util/api-transform.js"));n.loadFarm=a,n.loadFarmSaga=r;var f=[a,r].map(regeneratorRuntime.mark);n.default=[r]},"./app/containers/FarmPage/util/api-transform.js":function(t,n,e){"use strict";var a=e("./app/containers/PlotPage/util/api-transform.js");e.d(n,"a",function(){return r});var r=function(t){return{id:t.id,name:t.name,center:{lat:t.pointList.map(function(t){return t.latitude}).reduce(function(t,n){return t+n},0)/t.pointList.length,lng:t.pointList.map(function(t){return t.longitude}).reduce(function(t,n){return t+n},0)/t.pointList.length},plots:t.areaList.map(a.a).reduce(function(t,n){return t[n.id]=n,t},{}),boundary:{path:t.pointList.map(function(t){return{lat:t.latitude,lng:t.longitude}})}}}},"./app/containers/PlotPage/actions.js":function(t,n,e){"use strict";function a(t){return{type:AREA_EDIT_MODE,payload:t}}function r(t){return{type:l.a,payload:t}}function i(){return{type:l.b}}function o(t){return{type:l.c,payload:t}}function u(t){return{type:l.d,payload:t}}function s(t){return{type:l.e,payload:t}}function c(t){return{type:l.f,payload:t}}function p(){return{type:l.g}}var l=e("./app/containers/PlotPage/constants.js");n.a=a,n.g=r,n.h=i,n.b=o,n.c=u,n.d=s,n.e=c,n.f=p},"./app/containers/PlotPage/constants.js":function(t,n,e){"use strict";e.d(n,"c",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"e",function(){return i}),e.d(n,"f",function(){return o}),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return s}),e.d(n,"g",function(){return c});var a="app/PlotPage/SELECTED_PLOT_ID_CHANGE",r="app/PlotPage/EDITING_PLOT_ID_CHANGE",i="app/PlotPage/EDITING_PLOT_NAME_CHANGE",o="app/PlotPage/EDITING_PLOT_BOUNDARY_CHANGE",u="app/PlotPage/UPDATE_PLOTS",s="app/PlotPage/LOAD_PLOT",c="app/PlotPage/SEND_PLOT_UPDATE_REQUEST"},"./app/containers/PlotPage/util/api-transform.js":function(t,n,e){"use strict";e.d(n,"a",function(){return a});var a=function(t){return{id:t.id,name:t.name,boundary:{path:t.pointList.map(function(t){return{lat:t.latitude,lng:t.longitude}})}}}}});