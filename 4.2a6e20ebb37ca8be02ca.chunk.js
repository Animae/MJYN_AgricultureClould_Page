webpackJsonp([4],{"./app/components/DeviceItem/index.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/react/react.js"),s=n.n(a),l=n("./app/components/Icon/index.js"),u=n("./node_modules/react-bootstrap/lib/ToggleButtonGroup.js"),c=n.n(u),p=n("./node_modules/react-bootstrap/lib/ToggleButton.js"),f=n.n(p),h=n("./node_modules/react-bootstrap/lib/ButtonGroup.js"),d=n.n(h),g=n("./node_modules/react-bootstrap/lib/ButtonToolbar.js"),y=n.n(g),v=n("./node_modules/react-bootstrap/lib/Col.js"),m=(n.n(v),n("./node_modules/react-bootstrap/lib/Button.js")),b=n.n(m),_=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),x=function(e){return"60"},P=function(e){return"58"},O=_("div",{}),j=_(f.a,{value:"on",bsSize:"small",bsStyle:null},void 0,"ON"),k=_(f.a,{value:"stop",bsSize:"small",bsStyle:null},void 0,"STOP"),M=_(f.a,{value:"off",bsSize:"small",bsStyle:null},void 0,"OFF"),S=_("div",{}),C=_("div",{}),E=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),w(t,[{key:"render",value:function(){var e=this;return _("div",{style:{border:"1px solid "+this.props.device.boarderColor,borderRadius:"5px",width:this.props.width||"100%",display:"inline-block",margin:"0.2em",padding:"0.5em"}},void 0,_("div",{},void 0,_("div",{style:{display:"inline-block"}},void 0,_(l.a,{name:this.props.device.iconName})),_("div",{style:{display:"inline-block",float:"right"}},void 0,_(l.a,{name:P(this.props.device.signalLevel)}),_(l.a,{name:x(this.props.device.batteryPercent)})," ",this.props.device.batteryPercent,"%")),_("div",{},void 0,this.props.device.deviceName),_("div",{},void 0,"No. ",this.props.device.deviceId),"sensor"===this.props.device.deviceType&&"true"!==this.props.hiddenData?this.props.device.sensorData.map(function(t,n){return _("div",{style:{color:e.props.device.boarderColor}},n,t)}):O,"controller"===this.props.device.deviceType&&"true"!==this.props.hiddenData?this.props.device.controllerData.map(function(e,t){return _("div",{},t,e.name,_(y.a,{},void 0,_(c.a,{type:"radio",name:"options",defaultValue:e.status},void 0,j,k,M)))}):S,"true"!==this.props.hiddenButtons?_(d.a,{},void 0,_(b.a,{bsStyle:"info",bsSize:"xsmall",onClick:function(){return e.props.editDeviceAction(e.props.device.deviceType,e.props.device)}},void 0,"修改设备"),_(b.a,{bsStyle:"danger",bsSize:"xsmall",onClick:function(){return e.props.deleteDeviceAction(e.props.device)}},void 0,"删除设备")):C)}}]),t}(s.a.Component);t.a=E},"./app/components/DeviceList/index.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/react/react.js"),s=n.n(a),l=n("./node_modules/react-bootstrap/lib/Button.js"),u=n.n(l),c=n("./node_modules/react-bootstrap/lib/Col.js"),p=n.n(c),f=n("./node_modules/react-bootstrap/lib/Row.js"),h=n.n(f),d=n("./app/components/DeviceItem/index.js"),g=n("./app/components/Icon/index.js"),y=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),m=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modeState:n.props.mode},n.changeMode=n.changeMode.bind(n),n}return i(t,e),v(t,[{key:"changeMode",value:function(e){this.setState({modeState:e})}},{key:"render",value:function(){var e=this;return this.props.hidden?null:y(p.a,{sm:12,style:{backgroundColor:"white",display:"inline-block",boxShadow:"1px 1px 2px 1px rgba(200,200,200,0.3)",padding:"1em"}},void 0,(this.props.icon||this.props.title)&&y(h.a,{style:{padding:"1em"}},void 0,this.props.icon&&y(p.a,{sm:1},void 0,y(g.a,{name:this.props.icon,size:"2.5em"})),this.props.title&&this.props.icon&&y(p.a,{sm:8,style:{paddingTop:"1em"}},void 0,this.props.title),this.props.title&&!this.props.icon&&y(p.a,{sm:8},void 0,this.props.title)),y(h.a,{},void 0,y(p.a,{sm:"true"!==this.props.hiddenButtons?10:12},void 0,this.props.devices.map(function(t,n){return("scale"===e.state.modeState&&n<e.props.numberOfColumn||!e.state.modeState||"normal"===e.state.modeState||"showAll"===e.state.modeState)&&y(d.a,{device:t,width:96/e.props.numberOfColumn+"%",deleteDeviceAction:e.props.deleteDeviceAction,editDeviceAction:e.props.editDeviceAction,hiddenData:e.props.hiddenData,hiddenButtons:e.props.hiddenInnerButtons},n)})),"true"!==this.props.hiddenButtons&&y(p.a,{sm:2},void 0,y(u.a,{bsStyle:"info",onClick:function(){return e.props.editDeviceAction(e.props.deviceType,{})}},void 0,"添加设备"))),y(h.a,{style:{position:"relative",color:"grey",paddingBottom:"2em"}},void 0,y("div",{style:{position:"absolute",left:"42%"}},void 0,"scale"===this.state.modeState&&y(u.a,{bsStyle:null,style:{align:"cernter",margin:"auto",fontSize:"10px"},onClick:function(){return e.changeMode("showAll")}},void 0,"v"),"showAll"===this.state.modeState&&y(u.a,{bsStyle:null,onClick:function(){return e.changeMode("scale")}},void 0,"^"))))}}]),t}(s.a.Component);t.a=m},"./app/components/FarmMap/index.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/react/react.js"),s=n.n(a),l=n("./node_modules/react-bmap/lib/index.js"),u=(n.n(l),n("./node_modules/react-bootstrap/lib/Button.js")),c=n.n(u),p=n("./app/components/Icon/index.js"),f=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),g=function(e){return 0===e.length?{lat:0,lng:0}:{lat:e.map(function(e){return e.lat}).reduce(function(e,t){return e+t},0)/e.length,lng:e.map(function(e){return e.lng}).reduce(function(e,t){return e+t},0)/e.length}},y=f(l.NavigationControl,{}),v=f(l.MapTypeControl,{}),m=f(l.ScaleControl,{}),b=f(l.OverviewMapControl,{}),_=function(e){function t(){var e,n,i,a;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.initialState=function(){return{marker:{},polygon:{fillColor:"farm"===i.props.editType?"none":"blue",strokeColor:"farm"===i.props.editType?"blue":"none"}}},i.state=i.initialState(),i.handleClick=function(e){switch(i.props.editType){case"device":var t={lng:e.point.lng,lat:e.point.lat,iconName:"simple_yellow"};i.setState(h({},i.state,{marker:t}));break;case"plot":case"farm":var n=i.props.editingPolygonBoundary.concat([{lng:e.point.lng,lat:e.point.lat}]);i.props.changeEditingPolygonBoundary(n);break;case"none":}},i.resetEditingState=function(){return i.setState(i.initialState())},i.getFarmsCenter=function(e){var t=-180,n=180,o=-180,r=180;return e.forEach(function(e){e.boundary.path.forEach(function(e){e.lat>t&&(t=e.lat),e.lat<n&&(n=e.lat),e.lng>o&&(o=e.lng),e.lng<r&&(r=e.lng)})}),{lat:(t+n)/2,lng:(o+r)/2}},a=n,r(i,a)}return i(t,e),d(t,[{key:"render",value:function(){var e=this;return f("div",{},void 0,f(l.Map,{center:this.getFarmsCenter(this.props.farms),zoom:"18",events:{click:this.handleClick},mapType:l.BMAP_SATELLITE_MAP},void 0,y,v,m,b,"farm"!=this.props.editType?this.props.farms.map(function(e,t){return f(l.Polygon,{fillColor:"none",strokeColor:"blue",autoViewport:!1,path:e.boundary.path},t)}):null,this.props.plots.map(function(e,t){return f(l.Polygon,{fillColor:"white",strokeColor:"none",autoViewport:!1,path:e.boundary.path},t)}),this.props.plots.map(function(e,t){return f(l.Marker,{position:g(e.boundary.path)},t,e.name)}),this.props.pipes.map(function(e,t){return f(l.Polyline,{strokeColor:"blue",path:e.path},t)}),this.props.devices.map(function(e,t){return f(l.Marker,{position:{lng:e.location.lng,lat:e.location.lat}},t,f(p.a,{name:e.catIconName,size:"2em",color:e.boarderColor}))}),"device"===this.props.editType?f(l.Marker,{position:{lng:this.state.marker.lng,lat:this.state.marker.lat},icon:this.state.marker.iconName}):null,"plot"===this.props.editType||"farm"===this.props.editType?f(l.Polygon,{fillColor:this.state.polygon.fillColor,strokeColor:this.state.polygon.fillColor,autoViewport:!1,path:this.props.editingPolygonBoundary}):null,"none"!==this.props.editType?f(l.Marker,{position:g(this.props.editingPolygonBoundary)},void 0,this.props.editingPolygonText,f(c.a,{onClick:function(){return e.props.changeEditingPolygonBoundary([])}},void 0,"重划区域")):null))}}]),t}(s.a.PureComponent);_.defaultProps={editType:"none",devices:[],farms:[],plots:[],pipes:[],polygonText:"",editingPolygonBoundary:[],changeEditingPolygonBoundary:function(){}},t.a=_},"./app/containers/AuthProvider/wrappers.js":function(e,t,n){"use strict";var o=n("./node_modules/react-router-redux/lib/index.js"),r=(n.n(o),n("./node_modules/redux-auth-wrapper/lib/index.js"));n.n(r);n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var i=n.i(r.UserAuthWrapper)({authSelector:function(e){return{userId:window.localStorage.getItem("USER_ID")}},redirectAction:o.routerActions.goForward,failureRedirectPath:"/",predicate:function(e){return null!==e.userId&&e.userId.length>0},wrapperDisplayName:"UserIsAuthenticated"}),a=n.i(r.UserAuthWrapper)({authSelector:function(e){return{userId:window.localStorage.getItem("USER_ID")}},redirectAction:o.routerActions.replace,failureRedirectPath:"/demo",predicate:function(e){return null===e.userId||0===e.userId.length},wrapperDisplayName:"UserIsNotAuthenticated"})},"./app/containers/DemoPage/demoData/devices.js":function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=n("./app/utils/mock.js");n.d(t,"a",function(){return a});var i=function(e){return[].concat(o(Array(e).keys())).map(function(e){return{batteryPercent:n.i(r.a)(0,100),boarderColor:["goldenrod","green","brown","coral"][n.i(r.a)(0,4)],deviceId:"NO"+n.i(r.a)(1e5,999999),deviceName:"空气CO2",iconName:"home",signalLevel:n.i(r.a)(0,5)}})},a=i(12)},"./app/containers/DemoPage/demoData/map.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={center:{lng:116.402544,lat:39.928216},markers:[{lng:116.402544,lat:39.928216,iconName:"simple_blue"},{lng:116.402564,lat:39.965582,iconName:"simple_yellow"}],polygons:[{fillColor:"red",strokeColor:"none",path:[{lng:116.442519,lat:39.945597},{lng:116.484488,lat:39.905315},{lng:116.443094,lat:39.886494},{lng:116.426709,lat:39.900001}]},{fillColor:"blue",strokeColor:"none",path:[{lng:116.542519,lat:39.945597},{lng:116.584488,lat:39.905315},{lng:116.543094,lat:39.886494},{lng:116.526709,lat:39.900001}]}],lines:[{strokeColor:"blue",path:[{lng:116.403119,lat:39.929543},{lng:116.265139,lat:39.978658},{lng:116.217996,lat:39.904309}]}]}},"./app/containers/DemoPage/index.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{dispatch:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/react.js"),l=n.n(s),u=n("./node_modules/react-redux/lib/index.js"),c=(n.n(u),n("./node_modules/reselect/es/index.js")),p=n("./app/containers/DemoPage/selectors.js"),f=n("./app/containers/AuthProvider/wrappers.js"),h=n("./app/components/FarmMap/index.js"),d=n("./app/components/DeviceList/index.js"),g=n("./app/containers/DemoPage/demoData/devices.js"),y=n("./app/containers/DemoPage/demoData/map.js"),v=n("./app/fonts/index.js");n.d(t,"DemoPage",function(){return j});var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},b=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),w=b("br",{}),x=b("br",{}),P=b("br",{}),O=b(d.a,{devices:g.a,numberOfColumn:6}),j=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),_(t,[{key:"render",value:function(){return b("div",{},void 0,"FarmMap Demo",b(h.a,{center:y.a.center,markers:y.a.markers,polygons:y.a.polygons,lines:y.a.lines}),w,"Demo div using css className defined in vender/styles/style.css",b("div",{className:"themeBlueBackground",style:{width:"100px",height:"100px"}}),x,"Demo div using style object defined in `/fonts/index.js`",b("div",{style:m({},v.a,{width:"100px",height:"100px"})}),P,"DeviceList Demo",O)}}]),t}(l.a.Component),k=n.i(c.b)({DemoPage:n.i(p.a)()});t.default=n.i(u.connect)(k,a)(n.i(f.a)(j))},"./app/containers/DemoPage/selectors.js":function(e,t,n){"use strict";var o=n("./node_modules/reselect/es/index.js"),r=function(){return function(e){return e.get("demoPage")}},i=function(){return n.i(o.a)(r(),function(e){return e.toJS()})};t.a=i},"./app/fonts/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={backgroundColor:"#0D3F7B"}},"./app/utils/mock.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},r=function(){return{lng:o(121405369,121407669)/1e6,lat:o(28365071,28364150)/1e6}}},"./node_modules/lodash.isempty/index.js":function(e,t,n){(function(e,n){function o(e,t){return null==e?void 0:e[t]}function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function i(e,t){return function(n){return e(t(n))}}function a(e){return V.call(e)}function s(e){if(!m(e)||u(e))return!1;var t=y(e)||r(e)?H:L;return t.test(p(e))}function l(e,t){var n=o(e,t);return s(n)?n:void 0}function u(e){return!!W&&W in e}function c(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||N;return e===n}function p(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function f(e){return d(e)&&q.call(e,"callee")&&(!G.call(e,"callee")||V.call(e)==x)}function h(e){return null!=e&&v(e.length)&&!y(e)}function d(e){return b(e)&&h(e)}function g(e){if(h(e)&&(ue(e)||"string"==typeof e||"function"==typeof e.splice||ce(e)||f(e)))return!e.length;var t=le(e);if(t==j||t==S)return!e.size;if(ne||c(e))return!J(e).length;for(var n in e)if(q.call(e,n))return!1;return!0}function y(e){var t=m(e)?V.call(e):"";return t==P||t==O}function v(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=w}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return!!e&&"object"==typeof e}function _(){return!1}var w=9007199254740991,x="[object Arguments]",P="[object Function]",O="[object GeneratorFunction]",j="[object Map]",k="[object Object]",M="[object Promise]",S="[object Set]",C="[object WeakMap]",E="[object DataView]",T=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,z="object"==typeof e&&e&&e.Object===Object&&e,A="object"==typeof self&&self&&self.Object===Object&&self,R=z||A||Function("return this")(),B="object"==typeof t&&t&&!t.nodeType&&t,D=B&&"object"==typeof n&&n&&!n.nodeType&&n,I=D&&D.exports===B,F=Function.prototype,N=Object.prototype,U=R["__core-js_shared__"],W=function(){var e=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Z=F.toString,q=N.hasOwnProperty,V=N.toString,H=RegExp("^"+Z.call(q).replace(T,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=I?R.Buffer:void 0,G=N.propertyIsEnumerable,$=Y?Y.isBuffer:void 0,J=i(Object.keys,Object),X=l(R,"DataView"),K=l(R,"Map"),Q=l(R,"Promise"),ee=l(R,"Set"),te=l(R,"WeakMap"),ne=!G.call({valueOf:1},"valueOf"),oe=p(X),re=p(K),ie=p(Q),ae=p(ee),se=p(te),le=a;(X&&le(new X(new ArrayBuffer(1)))!=E||K&&le(new K)!=j||Q&&le(Q.resolve())!=M||ee&&le(new ee)!=S||te&&le(new te)!=C)&&(le=function(e){var t=V.call(e),n=t==k?e.constructor:void 0,o=n?p(n):void 0;if(o)switch(o){case oe:return E;case re:return j;case ie:return M;case ae:return S;case se:return C}return t});var ue=Array.isArray,ce=$||_;n.exports=g}).call(t,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/mapv/build/mapv.js":function(e,t,n){(function(e){!function(e,n){n(t)}(this,function(t){"use strict";function n(){this._subscribers={}}function o(e){var t=e.split("|");return t[0]=t[0].split(","),{lng:parseFloat(t[0][0]),lat:parseFloat(t[0][1])}}function r(e,t){n.bind(this)(),this._options=t||{},this._data=[],e&&this.add(e)}function i(e,t,n){var o=60*n+30,r=Math.PI/180*o;return[e.x+t*Math.cos(r),e.y+t*Math.sin(r)]}function a(e,t,n,o){for(var r=0;r<6;r++){var a=i({x:t,y:n},o,r);e.lineTo(a[0],a[1])}}function s(e,t){var n;if("undefined"==typeof document);else{var n=document.createElement("canvas");e&&(n.width=e),t&&(n.height=t)}return n}function l(e){e=e||{},this.gradient=e.gradient||{.25:"rgba(0, 0, 255, 1)",.55:"rgba(0, 255, 0, 1)",.85:"rgba(255, 255, 0, 1)",1:"rgba(255, 0, 0, 1)"},this.maxSize=e.maxSize||35,this.minSize=e.minSize||0,this.max=e.max||100,this.min=e.min||0,this.initPalette()}function u(e){var t=e/2,n=e+t,o=1e4,r=new s(2*n,2*n),i=r.getContext("2d");return i.shadowBlur=t,i.shadowColor="black",i.shadowOffsetX=i.shadowOffsetY=o,i.beginPath(),i.arc(n-o,n-o,e,0,2*Math.PI,!0),i.closePath(),i.fill(),r}function c(e,t,n){for(var o,r=n.maxOpacity||.8,i=3,a=e.length;i<a;i+=4)o=4*e[i],e[i]/256>r&&(e[i]=256*r),e[i-3]=t[o],e[i-2]=t[o+1],e[i-1]=t[o+2]}function p(e,t,n){var o=n.max||100,r=n.min||0,i=n._size;void 0==i&&(i=n.size,void 0==i&&(i=13));var a=new l({gradient:n.gradient,max:o,min:r}),s=u(i),c=s.width/2,p=s.height/2,f=t,h={};f.forEach(function(e,t){var n=void 0===e.count?1:e.count,r=Math.min(1,n/o).toFixed(2);h[r]=h[r]||[],h[r].push(e)});for(var d in h)if(!isNaN(d)){var g=h[d];e.beginPath(),n.withoutAlpha||(e.globalAlpha=d),e.strokeStyle=a.getColor(d*o),g.forEach(function(t,r){if(t.geometry){var i=t.geometry._coordinates||t.geometry.coordinates,a=t.geometry.type;if("Point"===a){var l=void 0===t.count?1:t.count;e.globalAlpha=l/o,e.drawImage(s,i[0]-c,i[1]-p)}else if("LineString"===a){var l=void 0===t.count?1:t.count;e.globalAlpha=l/o,e.beginPath(),we.draw(e,t,n),e.stroke()}}})}}function f(e,t,n){if(!(e.canvas.width<=0||e.canvas.height<=0)){var o=n.strength||.3;e.strokeStyle="rgba(0,0,0,"+o+")";var i=new s(e.canvas.width,e.canvas.height),a=i.getContext("2d");a.scale(Oe,Oe),n=n||{};var u=t instanceof r?t.get():t;e.save();var f=new l({gradient:n.gradient});if(p(a,u,n),!n.absolute){var h=a.getImageData(0,0,e.canvas.width,e.canvas.height);c(h.data,f.getImageData(),n),e.putImageData(h,0,0),e.restore()}f=null,i=null}}function h(e,t,n){var o=60*n+30,r=Math.PI/180*o;return[e.x+t*Math.cos(r),e.y+t*Math.sin(r)]}function d(e,t,n){var o=e.createShader(n);return e.shaderSource(o,t),e.compileShader(o),o}function g(e,t,n){var o=d(e,t,e.VERTEX_SHADER),r=d(e,n,e.FRAGMENT_SHADER),i=e.createProgram();return e.attachShader(i,o),e.attachShader(i,r),e.linkProgram(i),e.useProgram(i),i}function y(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=1,t.height=1,n.fillStyle=e,n.fillRect(0,0,1,1),n.getImageData(0,0,1,1).data}function v(e,t,n){if(t){var o=g(e,Se,Ce);e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE),e.clear(e.COLOR_BUFFER_BIT);var r=e.canvas.width/2,i=e.canvas.height/2,a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a);var s=e.getAttribLocation(o,"a_Position");e.vertexAttribPointer(s,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(s);var l=e.getUniformLocation(o,"u_FragColor"),u=y(n.strokeStyle||"red");e.uniform4f(l,u[0]/255,u[1]/255,u[2]/255,u[3]/255),e.lineWidth(n.lineWidth||1);for(var c=0,p=t.length;c<p;c++){for(var f=t[c].geometry._coordinates,h=[],d=0;d<f.length;d++){var v=f[d],m=(v[0]-r)/r,b=(i-v[1])/i;h.push(m,b)}var _=new Float32Array(h);e.bufferData(e.ARRAY_BUFFER,_,e.STATIC_DRAW),e.drawArrays(e.LINE_STRIP,0,f.length)}}}function m(e,t,n){if(t){var o=g(e,Te,Le),r=e.getAttribLocation(o,"a_Position"),i=e.getAttribLocation(o,"a_PointSize"),a=e.getUniformLocation(o,"u_FragColor");e.clear(e.COLOR_BUFFER_BIT);for(var s=e.canvas.width/2,l=e.canvas.height/2,u=[],c=0,p=0;p<t.length;p++){var f=t[p].geometry._coordinates,h=(f[0]-s)/s,d=(l-f[1])/l;h<-1||h>1||d<-1||d>1||(u.push(h,d),c++)}var v=new Float32Array(u),m=c,b=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,b),e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e.vertexAttrib1f(i,n._size);var _=y(n.fillStyle||"red");e.uniform4f(a,_[0]/255,_[1]/255,_[2]/255,_[3]/255),e.drawArrays(e.POINTS,0,m)}}function b(e,t,n){n=n||2;var o=t&&t.length,r=o?t[0]*n:e.length,i=_(e,0,r,n,!0),a=[];if(!i)return a;var s,l,u,c,p,f,h;if(o&&(i=S(e,t,i,n)),e.length>80*n){s=u=e[0],l=c=e[1];for(var d=n;d<r;d+=n)p=e[d],f=e[d+1],p<s&&(s=p),f<l&&(l=f),p>u&&(u=p),f>c&&(c=f);h=Math.max(u-s,c-l)}return x(i,a,n,s,l,h),a}function _(e,t,n,o,r){var i,a;if(r===G(e,t,n,o)>0)for(i=t;i<n;i+=o)a=V(i,e[i],e[i+1],a);else for(i=n-o;i>=t;i-=o)a=V(i,e[i],e[i+1],a);return a&&F(a,a.next)&&(H(a),a=a.next),a}function w(e,t){if(!e)return e;t||(t=e);var n,o=e;do if(n=!1,o.steiner||!F(o,o.next)&&0!==I(o.prev,o,o.next))o=o.next;else{if(H(o),o=t=o.prev,o===o.next)return null;n=!0}while(n||o!==t);return t}function x(e,t,n,o,r,i,a){if(e){!a&&i&&L(e,o,r,i);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,i?j(e,o,r,i):O(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),H(e),e=l.next,u=l.next;else if(e=l,e===u){a?1===a?(e=k(e,t,n),x(e,t,n,o,r,i,2)):2===a&&M(e,t,n,o,r,i):x(w(e),t,n,o,r,i,1);break}}}function O(e){var t=e.prev,n=e,o=e.next;if(I(t,n,o)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(B(t.x,t.y,n.x,n.y,o.x,o.y,r.x,r.y)&&I(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function j(e,t,n,o){var r=e.prev,i=e,a=e.next;if(I(r,i,a)>=0)return!1;for(var s=r.x<i.x?r.x<a.x?r.x:a.x:i.x<a.x?i.x:a.x,l=r.y<i.y?r.y<a.y?r.y:a.y:i.y<a.y?i.y:a.y,u=r.x>i.x?r.x>a.x?r.x:a.x:i.x>a.x?i.x:a.x,c=r.y>i.y?r.y>a.y?r.y:a.y:i.y>a.y?i.y:a.y,p=A(s,l,t,n,o),f=A(u,c,t,n,o),h=e.nextZ;h&&h.z<=f;){if(h!==e.prev&&h!==e.next&&B(r.x,r.y,i.x,i.y,a.x,a.y,h.x,h.y)&&I(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=e.prevZ;h&&h.z>=p;){if(h!==e.prev&&h!==e.next&&B(r.x,r.y,i.x,i.y,a.x,a.y,h.x,h.y)&&I(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function k(e,t,n){var o=e;do{var r=o.prev,i=o.next.next;!F(r,i)&&N(r,o,o.next,i)&&W(r,i)&&W(i,r)&&(t.push(r.i/n),t.push(o.i/n),t.push(i.i/n),H(o),H(o.next),o=e=i),o=o.next}while(o!==e);return o}function M(e,t,n,o,r,i){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&D(a,s)){var l=q(a,s);return a=w(a,a.next),l=w(l,l.next),x(a,t,n,o,r,i),void x(l,t,n,o,r,i)}s=s.next}a=a.next}while(a!==e)}function S(e,t,n,o){var r,i,a,s,l,u=[];for(r=0,i=t.length;r<i;r++)a=t[r]*o,s=r<i-1?t[r+1]*o:e.length,l=_(e,a,s,o,!1),l===l.next&&(l.steiner=!0),u.push(R(l));for(u.sort(C),r=0;r<u.length;r++)E(u[r],n),n=w(n,n.next);return n}function C(e,t){return e.x-t.x}function E(e,t){if(t=T(e,t)){var n=q(t,e);w(n,n.next)}}function T(e,t){var n,o=t,r=e.x,i=e.y,a=-(1/0);do{if(i<=o.y&&i>=o.next.y){var s=o.x+(i-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(s<=r&&s>a){if(a=s,s===r){if(i===o.y)return o;if(i===o.next.y)return o.next}n=o.x<o.next.x?o:o.next}}o=o.next}while(o!==t);if(!n)return null;if(r===a)return n.prev;var l,u=n,c=n.x,p=n.y,f=1/0;for(o=n.next;o!==u;)r>=o.x&&o.x>=c&&B(i<p?r:a,i,c,p,i<p?a:r,i,o.x,o.y)&&(l=Math.abs(i-o.y)/(r-o.x),(l<f||l===f&&o.x>n.x)&&W(o,e)&&(n=o,f=l)),o=o.next;return n}function L(e,t,n,o){var r=e;do null===r.z&&(r.z=A(r.x,r.y,t,n,o)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,z(r)}function z(e){var t,n,o,r,i,a,s,l,u=1;do{for(n=e,e=null,i=null,a=0;n;){for(a++,o=n,s=0,t=0;t<u&&(s++,o=o.nextZ,o);t++);for(l=u;s>0||l>0&&o;)0===s?(r=o,o=o.nextZ,l--):0!==l&&o?n.z<=o.z?(r=n,n=n.nextZ,s--):(r=o,o=o.nextZ,l--):(r=n,n=n.nextZ,s--),i?i.nextZ=r:e=r,r.prevZ=i,i=r;n=o}i.nextZ=null,u*=2}while(a>1);return e}function A(e,t,n,o,r){return e=32767*(e-n)/r,t=32767*(t-o)/r,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function R(e){var t=e,n=e;do t.x<n.x&&(n=t),t=t.next;while(t!==e);return n}function B(e,t,n,o,r,i,a,s){return(r-a)*(t-s)-(e-a)*(i-s)>=0&&(e-a)*(o-s)-(n-a)*(t-s)>=0&&(n-a)*(i-s)-(r-a)*(o-s)>=0}function D(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!U(e,t)&&W(e,t)&&W(t,e)&&Z(e,t)}function I(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function F(e,t){return e.x===t.x&&e.y===t.y}function N(e,t,n,o){return!!(F(e,t)&&F(n,o)||F(e,o)&&F(n,t))||I(e,t,n)>0!=I(e,t,o)>0&&I(n,o,e)>0!=I(n,o,t)>0}function U(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&N(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function W(e,t){return I(e.prev,e,e.next)<0?I(e,t,e.next)>=0&&I(e,e.prev,t)>=0:I(e,t,e.prev)<0||I(e,e.next,t)<0}function Z(e,t){var n=e,o=!1,r=(e.x+t.x)/2,i=(e.y+t.y)/2;do n.y>i!=n.next.y>i&&r<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(o=!o),n=n.next;while(n!==e);return o}function q(e,t){var n=new Y(e.i,e.x,e.y),o=new Y(t.i,t.x,t.y),r=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,o.next=n,n.prev=o,i.next=o,o.prev=i,o}function V(e,t,n,o){var r=new Y(e,t,n);return o?(r.next=o.next,r.prev=o,o.next.prev=r,o.next=r):(r.prev=r,r.next=r),r}function H(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Y(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function G(e,t,n,o){for(var r=0,i=t,a=n-o;i<n;i+=o)r+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return r}function $(e,t,n){if(t){e.clear(e.COLOR_BUFFER_BIT),e.viewport(0,0,e.canvas.width,e.canvas.height);var o=g(e,Ae,Re);e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE);var r=e.canvas.width/2,i=e.canvas.height/2;e.bindBuffer(e.ARRAY_BUFFER,e.createBuffer()),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,e.createBuffer());var a=e.getAttribLocation(o,"a_Position");e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a);var s=e.getUniformLocation(o,"u_FragColor"),l=y(n.fillStyle||"red");e.uniform4f(s,l[0]/255,l[1]/255,l[2]/255,l[3]/255),e.lineWidth(n.lineWidth||1);for(var u=[],c=[],p=65536,f=0,h=0,d=t.length;h<d;h++){var v=b.flatten(t[h].geometry._coordinates||t[h].geometry.coordinates),m=v.vertices;f=u.length/2;for(var _=0;_<m.length;_+=2)m[_]=(m[_]-r)/r,m[_+1]=(i-m[_+1])/i;(u.length+m.length)/2>p&&(e.bufferData(e.ARRAY_BUFFER,new Float32Array(u),e.STATIC_DRAW),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),e.STATIC_DRAW),e.drawElements(e.TRIANGLES,c.length,e.UNSIGNED_SHORT,0),u.length=0,c.length=0,f=0);for(var _=0;_<m.length;_++)u.push(m[_]);for(var w=b(m,v.holes,v.dimensions),_=0;_<w.length;_++)c.push(w[_]+f)}e.bufferData(e.ARRAY_BUFFER,new Float32Array(u),e.STATIC_DRAW),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),e.STATIC_DRAW),e.drawElements(e.TRIANGLES,c.length,e.UNSIGNED_SHORT,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}}function J(e,t){t=t||{};for(var n=[],o=0;o<e.length-1;o++){var r=X(e[o],e[o+1],t.count);r&&r.length>0&&(n=n.concat(r))}return n}function X(e,t,n){if(!e||!t)return null;var o,r,i,a,s,l,u,c=function(e){return 1-2*e+e*e},p=function(e){return 2*e-2*e*e},f=function(e){return e*e},h=[],n=n||40,d=0,g=0;if("undefined"==typeof t)return void("undefined"!=typeof h&&(h=[]));var y=parseFloat(e.lat),v=parseFloat(t.lat),m=parseFloat(e.lng),b=parseFloat(t.lng);for(b>m&&parseFloat(b-m)>180&&m<0&&(m=parseFloat(360+m)),m>b&&parseFloat(m-b)>180&&b<0&&(b=parseFloat(360+b)),l=0,u=0,v==y?(o=0,r=m-b):b==m?(o=Math.PI/2,r=y-v):(o=Math.atan((v-y)/(b-m)),r=(v-y)/Math.sin(o)),0==u&&(u=o+Math.PI/5),i=r/2,s=i*Math.cos(u)+m,a=i*Math.sin(u)+y,d=0;d<n+1;d++)h.push([m*c(g)+s*p(g)+b*f(g),y*c(g)+a*p(g)+v*f(g)]),
g+=1/n;return h}function K(e){this.splitList=e||{other:1}}function Q(e){this.splitList=e||[{start:0,value:"red"}]}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e){this.options=e||{},this.paneName=this.options.paneName||"mapPane",this.context=this.options.context||"2d",this.zIndex=this.options.zIndex||0,this.mixBlendMode=this.options.mixBlendMode||null,this.enableMassClear=this.options.enableMassClear,this._map=e.map,this._lastDrawTime=null,this.show()}function ne(e,t){for(var n=0;n<e.length;n++)if(oe(e[n],t))return!0;return!1}function oe(e,t){var n=Math.min(e.ne.x,t.ne.x),o=Math.min(e.sw.y,t.sw.y),r=Math.max(e.sw.x,t.sw.x),i=Math.max(e.ne.y,t.ne.y);return n>r&&o>i}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e){requestAnimationFrame(ie),Ze.update(e)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function fe(e){function t(e,t){return function(){t.apply(e)}}this.isAdded_=!1,this.isAnimated_=!1,this.paneName_=fe.DEFAULT_PANE_NAME_,this.updateHandler_=null,this.resizeHandler_=null,this.topLeft_=null,this.centerListener_=null,this.resizeListener_=null,this.needsResize_=!0,this.requestAnimationFrameId_=null;var n=document.createElement("canvas");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.pointerEvents="none",this.canvas=n,this.canvasCssWidth_=300,this.canvasCssHeight_=150,this.resolutionScale_=1,this.repositionFunction_=t(this,this.repositionCanvas_),this.resizeFunction_=t(this,this.resize_),this.requestUpdateFunction_=t(this,this.update_),e&&this.setOptions(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ye="2.0.17",ve=function(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)},me=function(e){var t=window.devicePixelRatio||1;e.canvas.width=e.canvas.width*t,e.canvas.height=e.canvas.height*t,e.canvas.style.width=e.canvas.width/t+"px",e.canvas.style.height=e.canvas.height/t+"px",e.scale(t,t)};n.prototype.on=function(e,t){var n=this._subscribers[e];n||(n=[],this._subscribers[e]=n),n.push({callback:t})},n.prototype.off=function(e,t){var n=this._subscribers[e];if(n)for(var o=0;o<n.length;o++)n[o].callback==t&&(n.splice(o,1),o--)},n.prototype._trigger=function(e,t,n){if("*"==e)throw new Error("Cannot trigger event *");var o=[];e in this._subscribers&&(o=o.concat(this._subscribers[e])),"*"in this._subscribers&&(o=o.concat(this._subscribers["*"]));for(var r=0,i=o.length;r<i;r++){var a=o[r];a.callback&&a.callback(e,t,n||null)}};var be={municipalities:[{n:"北京",g:"116.395645,39.929986|12"},{n:"上海",g:"121.487899,31.249162|12"},{n:"天津",g:"117.210813,39.14393|12"},{n:"重庆",g:"106.530635,29.544606|12"}],provinces:[{n:"安徽",g:"117.216005,31.859252|8",cities:[{n:"合肥",g:"117.282699,31.866942|12"},{n:"安庆",g:"117.058739,30.537898|13"},{n:"蚌埠",g:"117.35708,32.929499|13"},{n:"亳州",g:"115.787928,33.871211|13"},{n:"巢湖",g:"117.88049,31.608733|13"},{n:"池州",g:"117.494477,30.660019|14"},{n:"滁州",g:"118.32457,32.317351|13"},{n:"阜阳",g:"115.820932,32.901211|13"},{n:"淮北",g:"116.791447,33.960023|13"},{n:"淮南",g:"117.018639,32.642812|13"},{n:"黄山",g:"118.29357,29.734435|13"},{n:"六安",g:"116.505253,31.755558|13"},{n:"马鞍山",g:"118.515882,31.688528|13"},{n:"宿州",g:"116.988692,33.636772|13"},{n:"铜陵",g:"117.819429,30.94093|14"},{n:"芜湖",g:"118.384108,31.36602|12"},{n:"宣城",g:"118.752096,30.951642|13"}]},{n:"福建",g:"117.984943,26.050118|8",cities:[{n:"福州",g:"119.330221,26.047125|12"},{n:"龙岩",g:"117.017997,25.078685|13"},{n:"南平",g:"118.181883,26.643626|13"},{n:"宁德",g:"119.542082,26.656527|14"},{n:"莆田",g:"119.077731,25.44845|13"},{n:"泉州",g:"118.600362,24.901652|12"},{n:"三明",g:"117.642194,26.270835|14"},{n:"厦门",g:"118.103886,24.489231|12"},{n:"漳州",g:"117.676205,24.517065|12"}]},{n:"甘肃",g:"102.457625,38.103267|6",cities:[{n:"兰州",g:"103.823305,36.064226|12"},{n:"白银",g:"104.171241,36.546682|13"},{n:"定西",g:"104.626638,35.586056|13"},{n:"甘南州",g:"102.917442,34.992211|14"},{n:"嘉峪关",g:"98.281635,39.802397|13"},{n:"金昌",g:"102.208126,38.516072|13"},{n:"酒泉",g:"98.508415,39.741474|13"},{n:"临夏州",g:"103.215249,35.598514|13"},{n:"陇南",g:"104.934573,33.39448|14"},{n:"平凉",g:"106.688911,35.55011|13"},{n:"庆阳",g:"107.644227,35.726801|13"},{n:"天水",g:"105.736932,34.584319|13"},{n:"武威",g:"102.640147,37.933172|13"},{n:"张掖",g:"100.459892,38.93932|13"}]},{n:"广东",g:"113.394818,23.408004|8",cities:[{n:"广州",g:"113.30765,23.120049|12"},{n:"潮州",g:"116.630076,23.661812|13"},{n:"东莞",g:"113.763434,23.043024|12"},{n:"佛山",g:"113.134026,23.035095|13"},{n:"河源",g:"114.713721,23.757251|12"},{n:"惠州",g:"114.410658,23.11354|12"},{n:"江门",g:"113.078125,22.575117|13"},{n:"揭阳",g:"116.379501,23.547999|13"},{n:"茂名",g:"110.931245,21.668226|13"},{n:"梅州",g:"116.126403,24.304571|13"},{n:"清远",g:"113.040773,23.698469|13"},{n:"汕头",g:"116.72865,23.383908|13"},{n:"汕尾",g:"115.372924,22.778731|14"},{n:"韶关",g:"113.594461,24.80296|13"},{n:"深圳",g:"114.025974,22.546054|12"},{n:"阳江",g:"111.97701,21.871517|14"},{n:"云浮",g:"112.050946,22.937976|13"},{n:"湛江",g:"110.365067,21.257463|13"},{n:"肇庆",g:"112.479653,23.078663|13"},{n:"中山",g:"113.42206,22.545178|12"},{n:"珠海",g:"113.562447,22.256915|13"}]},{n:"广西",g:"108.924274,23.552255|7",cities:[{n:"南宁",g:"108.297234,22.806493|12"},{n:"百色",g:"106.631821,23.901512|13"},{n:"北海",g:"109.122628,21.472718|13"},{n:"崇左",g:"107.357322,22.415455|14"},{n:"防城港",g:"108.351791,21.617398|15"},{n:"桂林",g:"110.26092,25.262901|12"},{n:"贵港",g:"109.613708,23.103373|13"},{n:"河池",g:"108.069948,24.699521|14"},{n:"贺州",g:"111.552594,24.411054|14"},{n:"来宾",g:"109.231817,23.741166|14"},{n:"柳州",g:"109.422402,24.329053|12"},{n:"钦州",g:"108.638798,21.97335|13"},{n:"梧州",g:"111.305472,23.485395|13"},{n:"玉林",g:"110.151676,22.643974|14"}]},{n:"贵州",g:"106.734996,26.902826|8",cities:[{n:"贵阳",g:"106.709177,26.629907|12"},{n:"安顺",g:"105.92827,26.228595|13"},{n:"毕节地区",g:"105.300492,27.302612|14"},{n:"六盘水",g:"104.852087,26.591866|13"},{n:"铜仁地区",g:"109.196161,27.726271|14"},{n:"遵义",g:"106.93126,27.699961|13"},{n:"黔西南州",g:"104.900558,25.095148|11"},{n:"黔东南州",g:"107.985353,26.583992|11"},{n:"黔南州",g:"107.523205,26.264536|11"}]},{n:"海南",g:"109.733755,19.180501|9",cities:[{n:"海口",g:"110.330802,20.022071|13"},{n:"白沙",g:"109.358586,19.216056|12"},{n:"保亭",g:"109.656113,18.597592|12"},{n:"昌江",g:"109.0113,19.222483|12"},{n:"儋州",g:"109.413973,19.571153|13"},{n:"澄迈",g:"109.996736,19.693135|13"},{n:"东方",g:"108.85101,18.998161|13"},{n:"定安",g:"110.32009,19.490991|13"},{n:"琼海",g:"110.414359,19.21483|13"},{n:"琼中",g:"109.861849,19.039771|12"},{n:"乐东",g:"109.062698,18.658614|12"},{n:"临高",g:"109.724101,19.805922|13"},{n:"陵水",g:"109.948661,18.575985|12"},{n:"三亚",g:"109.522771,18.257776|12"},{n:"屯昌",g:"110.063364,19.347749|13"},{n:"万宁",g:"110.292505,18.839886|13"},{n:"文昌",g:"110.780909,19.750947|13"},{n:"五指山",g:"109.51775,18.831306|13"}]},{n:"河北",g:"115.661434,38.61384|7",cities:[{n:"石家庄",g:"114.522082,38.048958|12"},{n:"保定",g:"115.49481,38.886565|13"},{n:"沧州",g:"116.863806,38.297615|13"},{n:"承德",g:"117.933822,40.992521|14"},{n:"邯郸",g:"114.482694,36.609308|13"},{n:"衡水",g:"115.686229,37.746929|13"},{n:"廊坊",g:"116.703602,39.518611|13"},{n:"秦皇岛",g:"119.604368,39.945462|12"},{n:"唐山",g:"118.183451,39.650531|13"},{n:"邢台",g:"114.520487,37.069531|13"},{n:"张家口",g:"114.893782,40.811188|13"}]},{n:"河南",g:"113.486804,34.157184|7",cities:[{n:"郑州",g:"113.649644,34.75661|12"},{n:"安阳",g:"114.351807,36.110267|12"},{n:"鹤壁",g:"114.29777,35.755426|13"},{n:"焦作",g:"113.211836,35.234608|13"},{n:"开封",g:"114.351642,34.801854|13"},{n:"洛阳",g:"112.447525,34.657368|12"},{n:"漯河",g:"114.046061,33.576279|13"},{n:"南阳",g:"112.542842,33.01142|13"},{n:"平顶山",g:"113.300849,33.745301|13"},{n:"濮阳",g:"115.026627,35.753298|12"},{n:"三门峡",g:"111.181262,34.78332|13"},{n:"商丘",g:"115.641886,34.438589|13"},{n:"新乡",g:"113.91269,35.307258|13"},{n:"信阳",g:"114.085491,32.128582|13"},{n:"许昌",g:"113.835312,34.02674|13"},{n:"周口",g:"114.654102,33.623741|13"},{n:"驻马店",g:"114.049154,32.983158|13"}]},{n:"黑龙江",g:"128.047414,47.356592|6",cities:[{n:"哈尔滨",g:"126.657717,45.773225|12"},{n:"大庆",g:"125.02184,46.596709|12"},{n:"大兴安岭地区",g:"124.196104,51.991789|10"},{n:"鹤岗",g:"130.292472,47.338666|13"},{n:"黑河",g:"127.50083,50.25069|14"},{n:"鸡西",g:"130.941767,45.32154|13"},{n:"佳木斯",g:"130.284735,46.81378|12"},{n:"牡丹江",g:"129.608035,44.588521|13"},{n:"七台河",g:"131.019048,45.775005|14"},{n:"齐齐哈尔",g:"123.987289,47.3477|13"},{n:"双鸭山",g:"131.171402,46.655102|13"},{n:"绥化",g:"126.989095,46.646064|13"},{n:"伊春",g:"128.910766,47.734685|14"}]},{n:"湖北",g:"112.410562,31.209316|8",cities:[{n:"武汉",g:"114.3162,30.581084|12"},{n:"鄂州",g:"114.895594,30.384439|14"},{n:"恩施",g:"109.517433,30.308978|14"},{n:"黄冈",g:"114.906618,30.446109|14"},{n:"黄石",g:"115.050683,30.216127|13"},{n:"荆门",g:"112.21733,31.042611|13"},{n:"荆州",g:"112.241866,30.332591|12"},{n:"潜江",g:"112.768768,30.343116|13"},{n:"神农架林区",g:"110.487231,31.595768|13"},{n:"十堰",g:"110.801229,32.636994|13"},{n:"随州",g:"113.379358,31.717858|13"},{n:"天门",g:"113.12623,30.649047|13"},{n:"仙桃",g:"113.387448,30.293966|13"},{n:"咸宁",g:"114.300061,29.880657|13"},{n:"襄阳",g:"112.176326,32.094934|12"},{n:"孝感",g:"113.935734,30.927955|13"},{n:"宜昌",g:"111.310981,30.732758|13"}]},{n:"湖南",g:"111.720664,27.695864|7",cities:[{n:"长沙",g:"112.979353,28.213478|12"},{n:"常德",g:"111.653718,29.012149|12"},{n:"郴州",g:"113.037704,25.782264|13"},{n:"衡阳",g:"112.583819,26.898164|13"},{n:"怀化",g:"109.986959,27.557483|13"},{n:"娄底",g:"111.996396,27.741073|13"},{n:"邵阳",g:"111.461525,27.236811|13"},{n:"湘潭",g:"112.935556,27.835095|13"},{n:"湘西州",g:"109.745746,28.317951|14"},{n:"益阳",g:"112.366547,28.588088|13"},{n:"永州",g:"111.614648,26.435972|13"},{n:"岳阳",g:"113.146196,29.378007|13"},{n:"张家界",g:"110.48162,29.124889|13"},{n:"株洲",g:"113.131695,27.827433|13"}]},{n:"江苏",g:"119.368489,33.013797|8",cities:[{n:"南京",g:"118.778074,32.057236|12"},{n:"常州",g:"119.981861,31.771397|12"},{n:"淮安",g:"119.030186,33.606513|12"},{n:"连云港",g:"119.173872,34.601549|12"},{n:"南通",g:"120.873801,32.014665|12"},{n:"苏州",g:"120.619907,31.317987|12"},{n:"宿迁",g:"118.296893,33.95205|13"},{n:"泰州",g:"119.919606,32.476053|13"},{n:"无锡",g:"120.305456,31.570037|12"},{n:"徐州",g:"117.188107,34.271553|12"},{n:"盐城",g:"120.148872,33.379862|12"},{n:"扬州",g:"119.427778,32.408505|13"},{n:"镇江",g:"119.455835,32.204409|13"}]},{n:"江西",g:"115.676082,27.757258|7",cities:[{n:"南昌",g:"115.893528,28.689578|12"},{n:"抚州",g:"116.360919,27.954545|13"},{n:"赣州",g:"114.935909,25.845296|13"},{n:"吉安",g:"114.992039,27.113848|13"},{n:"景德镇",g:"117.186523,29.303563|12"},{n:"九江",g:"115.999848,29.71964|13"},{n:"萍乡",g:"113.859917,27.639544|13"},{n:"上饶",g:"117.955464,28.457623|13"},{n:"新余",g:"114.947117,27.822322|13"},{n:"宜春",g:"114.400039,27.81113|13"},{n:"鹰潭",g:"117.03545,28.24131|13"}]},{n:"吉林",g:"126.262876,43.678846|7",cities:[{n:"长春",g:"125.313642,43.898338|12"},{n:"白城",g:"122.840777,45.621086|13"},{n:"白山",g:"126.435798,41.945859|13"},{n:"吉林",g:"126.564544,43.871988|12"},{n:"辽源",g:"125.133686,42.923303|13"},{n:"四平",g:"124.391382,43.175525|12"},{n:"松原",g:"124.832995,45.136049|13"},{n:"通化",g:"125.94265,41.736397|13"},{n:"延边",g:"129.485902,42.896414|13"}]},{n:"辽宁",g:"122.753592,41.6216|8",cities:[{n:"沈阳",g:"123.432791,41.808645|12"},{n:"鞍山",g:"123.007763,41.118744|13"},{n:"本溪",g:"123.778062,41.325838|12"},{n:"朝阳",g:"120.446163,41.571828|13"},{n:"大连",g:"121.593478,38.94871|12"},{n:"丹东",g:"124.338543,40.129023|12"},{n:"抚顺",g:"123.92982,41.877304|12"},{n:"阜新",g:"121.660822,42.01925|14"},{n:"葫芦岛",g:"120.860758,40.74303|13"},{n:"锦州",g:"121.147749,41.130879|13"},{n:"辽阳",g:"123.172451,41.273339|14"},{n:"盘锦",g:"122.073228,41.141248|13"},{n:"铁岭",g:"123.85485,42.299757|13"},{n:"营口",g:"122.233391,40.668651|13"}]},{n:"内蒙古",g:"114.415868,43.468238|5",cities:[{n:"呼和浩特",g:"111.660351,40.828319|12"},{n:"阿拉善盟",g:"105.695683,38.843075|14"},{n:"包头",g:"109.846239,40.647119|12"},{n:"巴彦淖尔",g:"107.423807,40.76918|12"},{n:"赤峰",g:"118.930761,42.297112|12"},{n:"鄂尔多斯",g:"109.993706,39.81649|12"},{n:"呼伦贝尔",g:"119.760822,49.201636|12"},{n:"通辽",g:"122.260363,43.633756|12"},{n:"乌海",g:"106.831999,39.683177|13"},{n:"乌兰察布",g:"113.112846,41.022363|12"},{n:"锡林郭勒盟",g:"116.02734,43.939705|11"},{n:"兴安盟",g:"122.048167,46.083757|11"}]},{n:"宁夏",g:"106.155481,37.321323|8",cities:[{n:"银川",g:"106.206479,38.502621|12"},{n:"固原",g:"106.285268,36.021523|13"},{n:"石嘴山",g:"106.379337,39.020223|13"},{n:"吴忠",g:"106.208254,37.993561|14"},{n:"中卫",g:"105.196754,37.521124|14"}]},{n:"青海",g:"96.202544,35.499761|7",cities:[{n:"西宁",g:"101.767921,36.640739|12"},{n:"果洛州",g:"100.223723,34.480485|11"},{n:"海东地区",g:"102.085207,36.51761|11"},{n:"海北州",g:"100.879802,36.960654|11"},{n:"海南州",g:"100.624066,36.284364|11"},{n:"海西州",g:"97.342625,37.373799|11"},{n:"黄南州",g:"102.0076,35.522852|11"},{n:"玉树州",g:"97.013316,33.00624|14"}]},{n:"山东",g:"118.527663,36.09929|8",cities:[{n:"济南",g:"117.024967,36.682785|12"},{n:"滨州",g:"117.968292,37.405314|12"},{n:"东营",g:"118.583926,37.487121|12"},{n:"德州",g:"116.328161,37.460826|12"},{n:"菏泽",g:"115.46336,35.26244|13"},{n:"济宁",g:"116.600798,35.402122|13"},{n:"莱芜",g:"117.684667,36.233654|13"},{n:"聊城",g:"115.986869,36.455829|12"},{n:"临沂",g:"118.340768,35.072409|12"},{n:"青岛",g:"120.384428,36.105215|12"},{n:"日照",g:"119.50718,35.420225|12"},{n:"泰安",g:"117.089415,36.188078|13"},{n:"威海",g:"122.093958,37.528787|13"},{n:"潍坊",g:"119.142634,36.716115|12"},{n:"烟台",g:"121.309555,37.536562|12"},{n:"枣庄",g:"117.279305,34.807883|13"},{n:"淄博",g:"118.059134,36.804685|12"}]},{n:"山西",g:"112.515496,37.866566|7",cities:[{n:"太原",g:"112.550864,37.890277|12"},{n:"长治",g:"113.120292,36.201664|12"},{n:"大同",g:"113.290509,40.113744|12"},{n:"晋城",g:"112.867333,35.499834|13"},{n:"晋中",g:"112.738514,37.693362|13"},{n:"临汾",g:"111.538788,36.099745|13"},{n:"吕梁",g:"111.143157,37.527316|14"},{n:"朔州",g:"112.479928,39.337672|13"},{n:"忻州",g:"112.727939,38.461031|12"},{n:"阳泉",g:"113.569238,37.869529|13"},{n:"运城",g:"111.006854,35.038859|13"}]},{n:"陕西",g:"109.503789,35.860026|7",cities:[{n:"西安",g:"108.953098,34.2778|12"},{n:"安康",g:"109.038045,32.70437|13"},{n:"宝鸡",g:"107.170645,34.364081|12"},{n:"汉中",g:"107.045478,33.081569|13"},{n:"商洛",g:"109.934208,33.873907|13"},{n:"铜川",g:"108.968067,34.908368|13"},{n:"渭南",g:"109.483933,34.502358|13"},{n:"咸阳",g:"108.707509,34.345373|13"},{n:"延安",g:"109.50051,36.60332|13"},{n:"榆林",g:"109.745926,38.279439|12"}]},{n:"四川",g:"102.89916,30.367481|7",cities:[{n:"成都",g:"104.067923,30.679943|12"},{n:"阿坝州",g:"102.228565,31.905763|15"},{n:"巴中",g:"106.757916,31.869189|14"},{n:"达州",g:"107.494973,31.214199|14"},{n:"德阳",g:"104.402398,31.13114|13"},{n:"甘孜州",g:"101.969232,30.055144|15"},{n:"广安",g:"106.63572,30.463984|13"},{n:"广元",g:"105.819687,32.44104|13"},{n:"乐山",g:"103.760824,29.600958|13"},{n:"凉山州",g:"102.259591,27.892393|14"},{n:"泸州",g:"105.44397,28.89593|14"},{n:"南充",g:"106.105554,30.800965|13"},{n:"眉山",g:"103.84143,30.061115|13"},{n:"绵阳",g:"104.705519,31.504701|12"},{n:"内江",g:"105.073056,29.599462|13"},{n:"攀枝花",g:"101.722423,26.587571|14"},{n:"遂宁",g:"105.564888,30.557491|12"},{n:"雅安",g:"103.009356,29.999716|13"},{n:"宜宾",g:"104.633019,28.769675|13"},{n:"资阳",g:"104.63593,30.132191|13"},{n:"自贡",g:"104.776071,29.359157|13"}]},{n:"西藏",g:"89.137982,31.367315|6",cities:[{n:"拉萨",g:"91.111891,29.662557|13"},{n:"阿里地区",g:"81.107669,30.404557|11"},{n:"昌都地区",g:"97.185582,31.140576|15"},{n:"林芝地区",g:"94.349985,29.666941|11"},{n:"那曲地区",g:"92.067018,31.48068|14"},{n:"日喀则地区",g:"88.891486,29.269023|14"},{n:"山南地区",g:"91.750644,29.229027|11"}]},{n:"新疆",g:"85.614899,42.127001|6",cities:[{n:"乌鲁木齐",g:"87.564988,43.84038|12"},{n:"阿拉尔",g:"81.291737,40.61568|13"},{n:"阿克苏地区",g:"80.269846,41.171731|12"},{n:"阿勒泰地区",g:"88.137915,47.839744|13"},{n:"巴音郭楞",g:"86.121688,41.771362|12"},{n:"博尔塔拉州",g:"82.052436,44.913651|11"},{n:"昌吉州",g:"87.296038,44.007058|13"},{n:"哈密地区",g:"93.528355,42.858596|13"},{n:"和田地区",g:"79.930239,37.116774|13"},{n:"喀什地区",g:"75.992973,39.470627|12"},{n:"克拉玛依",g:"84.88118,45.594331|13"},{n:"克孜勒苏州",g:"76.137564,39.750346|11"},{n:"石河子",g:"86.041865,44.308259|13"},{n:"塔城地区",g:"82.974881,46.758684|12"},{n:"图木舒克",g:"79.198155,39.889223|13"},{n:"吐鲁番地区",g:"89.181595,42.96047|13"},{n:"五家渠",g:"87.565449,44.368899|13"},{n:"伊犁州",g:"81.297854,43.922248|11"}]},{n:"云南",g:"101.592952,24.864213|7",cities:[{n:"昆明",g:"102.714601,25.049153|12"},{n:"保山",g:"99.177996,25.120489|13"},{n:"楚雄州",g:"101.529382,25.066356|13"},{n:"大理州",g:"100.223675,25.5969|14"},{n:"德宏州",g:"98.589434,24.44124|14"},{n:"迪庆州",g:"99.713682,27.831029|14"},{n:"红河州",g:"103.384065,23.367718|11"},{n:"丽江",g:"100.229628,26.875351|13"},{n:"临沧",g:"100.092613,23.887806|14"},{n:"怒江州",g:"98.859932,25.860677|14"},{n:"普洱",g:"100.980058,22.788778|14"},{n:"曲靖",g:"103.782539,25.520758|12"},{n:"昭通",g:"103.725021,27.340633|13"},{n:"文山",g:"104.089112,23.401781|14"},{n:"西双版纳",g:"100.803038,22.009433|13"},{n:"玉溪",g:"102.545068,24.370447|13"}]},{n:"浙江",g:"119.957202,29.159494|8",cities:[{n:"杭州",g:"120.219375,30.259244|12"},{n:"湖州",g:"120.137243,30.877925|12"},{n:"嘉兴",g:"120.760428,30.773992|13"},{n:"金华",g:"119.652576,29.102899|12"},{n:"丽水",g:"119.929576,28.4563|13"},{n:"宁波",g:"121.579006,29.885259|12"},{n:"衢州",g:"118.875842,28.95691|12"},{n:"绍兴",g:"120.592467,30.002365|13"},{n:"台州",g:"121.440613,28.668283|13"},{n:"温州",g:"120.690635,28.002838|12"},{n:"舟山",g:"122.169872,30.03601|13"}]}],other:[{n:"香港",g:"114.186124,22.293586|11"},{n:"澳门",g:"113.557519,22.204118|13"},{n:"台湾",g:"120.961454,23.80406|8"}]},_e={getProvinceNameByCityName:function(e){for(var t=be.provinces,n=0;n<t.length;n++)for(var o=t[n].n,r=t[n].cities,i=0;i<r.length;i++)if(r[i].n==e)return o;return null},getCenterByCityName:function(e){e=e.replace("市","");for(var t=0;t<be.municipalities.length;t++)if(be.municipalities[t].n==e)return o(be.municipalities[t].g);for(var t=0;t<be.other.length;t++)if(be.other[t].n==e)return o(be.other[t].g);for(var n=be.provinces,t=0;t<n.length;t++){if(n[t].n==e)return o(n[t].g);for(var r=n[t].cities,i=0;i<r.length;i++)if(r[i].n==e)return o(r[i].g)}return null}};r.prototype=n.prototype,r.prototype.add=function(e,t){if(Array.isArray(e))for(var n=0,o=e.length;n<o;n++){if(e[n].time&&14==e[n].time.length&&"20"==e[n].time.substr(0,2)){var r=e[n].time;e[n].time=new Date(r.substr(0,4)+"-"+r.substr(4,2)+"-"+r.substr(6,2)+" "+r.substr(8,2)+":"+r.substr(10,2)+":"+r.substr(12,2)).getTime()}this._data.push(e[n])}else{if(!(e instanceof Object))throw new Error("Unknown dataType");this._data.push(e)}},r.prototype.get=function(e){e=e||{};var t=(new Date,this._data);new Date;if(e.filter){for(var n=[],o=0;o<t.length;o++)e.filter(t[o])&&n.push(t[o]);t=n}return e.transferCoordinate&&(t=this.transferCoordinate(t,e.transferCoordinate,e.fromColumn,e.toColumn)),t},r.prototype.set=function(e){this._set(e),this._trigger("change")},r.prototype._set=function(e){this.clear(),this.add(e)},r.prototype.clear=function(e){this._data=[]},r.prototype.remove=function(e){},r.prototype.update=function(e,t){for(var n=this._data,o=0;o<n.length;o++)if(t){var r=!0;for(var i in t)n[o][i]!=t[i]&&(r=!1);r&&e&&e(n[o])}else e&&e(n[o]);this._trigger("change")},r.prototype.transferCoordinate=function(e,t,n,o){function r(e){for(var n=[],o=0;o<e.length;o++){for(var r=e[o],i=[],a=0;a<r.length;a++)i.push(t(r[a]));n.push(i)}return n}o=o||"_coordinates",n=n||"coordinates";for(var i=0;i<e.length;i++){var a=e[i].geometry,s=a[n];switch(a.type){case"Point":a[o]=t(s);break;case"LineString":for(var l=[],u=0;u<s.length;u++)l.push(t(s[u]));a[o]=l;break;case"Polygon":var l=r(s);a[o]=l;break;case"MultiPolygon":for(var l=[],c=0;c<s.length;c++){var p=s[c],p=r(p);l.push(p)}a[o]=l}}return e},r.prototype.initGeometry=function(e){e?this._data.forEach(function(t){t.geometry=e(t)}):this._data.forEach(function(e){if(!e.geometry)if(e.lng&&e.lat)e.geometry={type:"Point",coordinates:[e.lng,e.lat]};else if(e.city){var t=_e.getCenterByCityName(e.city);t&&(e.geometry={type:"Point",coordinates:[t.lng,t.lat]})}})},r.prototype.getMax=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n=parseFloat(t[0][e]),o=1;o<t.length;o++){var r=parseFloat(t[o][e]);r>n&&(n=r)}return n}},r.prototype.getSum=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n=0,o=0;o<t.length;o++)t[o][e]&&(n+=parseFloat(t[o][e]));return n}},r.prototype.getMin=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n=parseFloat(t[0][e]),o=1;o<t.length;o++){var r=parseFloat(t[o][e]);r<n&&(n=r)}return n}},r.prototype.getUnique=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n={},o=1;o<t.length;o++)n[t[o][e]]=!0;var t=[];for(var r in n)t.push(r);return t}};var we={drawDataSet:function(e,t,n){for(var o=t instanceof r?t.get():t,i=0,a=o.length;i<a;i++){var s=o[i];this.draw(e,s,n)}},draw:function(e,t,n){var o=t.geometry.type,r=t.geometry._coordinates||t.geometry.coordinates,i=n.symbol||"circle";switch(o){case"Point":var s=t._size||t.size||n._size||n.size||5;"circle"===i?("Point"===n.bigData&&e.moveTo(r[0],r[1]),e.arc(r[0],r[1],s,0,2*Math.PI)):"rect"===i?e.rect(r[0]-s/2,r[1]-s/2,s,s):"honeycomb"===i&&a(e,r[0],r[1],s);break;case"LineString":for(var l=0;l<r.length;l++){var u=r[l][0],c=r[l][1];0==l?e.moveTo(u,c):e.lineTo(u,c)}break;case"Polygon":this.drawPolygon(e,r);break;case"MultiPolygon":for(var p=0;p<r.length;p++){var f=r[p];this.drawPolygon(e,f)}e.closePath();break;default:console.log("type"+o+"is not support now!")}},drawPolygon:function(e,t){for(var n=0;n<t.length;n++){var o=t[n];e.moveTo(o[0][0],o[0][1]);for(var r=1;r<o.length;r++)e.lineTo(o[r][0],o[r][1]);e.lineTo(o[0][0],o[0][1])}}},xe={draw:function(e,t,n){var o=t instanceof r?t.get():t;e.save();for(var i in n)e[i]=n[i];if(n.bigData){e.save(),e.beginPath();for(var a=0,s=o.length;a<s;a++){var l=o[a];we.draw(e,l,n)}var u=n.bigData;"Point"==u||"Polygon"==u||"MultiPolygon"==u?(e.fill(),(l.strokeStyle||n.strokeStyle)&&n.lineWidth&&e.stroke()):"LineString"==u&&e.stroke(),e.restore()}else for(var a=0,s=o.length;a<s;a++){var l=o[a];e.save(),(l.fillStyle||l._fillStyle)&&(e.fillStyle=l.fillStyle||l._fillStyle),(l.strokeStyle||l._strokeStyle)&&(e.strokeStyle=l.strokeStyle||l._strokeStyle);var u=l.geometry.type;e.beginPath(),we.draw(e,l,n),"Point"==u||"Polygon"==u||"MultiPolygon"==u?(e.fill(),(l.strokeStyle||n.strokeStyle)&&n.lineWidth&&e.stroke()):"LineString"==u&&((l.lineWidth||l._lineWidth)&&(e.lineWidth=l.lineWidth||l._lineWidth),e.stroke()),e.restore()}e.restore()}};l.prototype.setMax=function(e){this.max=e||100},l.prototype.setMin=function(e){this.min=e||0},l.prototype.setMaxSize=function(e){this.maxSize=e||35},l.prototype.setMinSize=function(e){this.minSize=e||0},l.prototype.initPalette=function(){var e=this.gradient,t=new s(256,1),n=this.paletteCtx=t.getContext("2d"),o=n.createLinearGradient(0,0,256,1);for(var r in e)o.addColorStop(parseFloat(r),e[r]);n.fillStyle=o,n.fillRect(0,0,256,1)},l.prototype.getColor=function(e){var t=this.getImageData(e);return"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]/256+")"},l.prototype.getImageData=function(e){var t=this.paletteCtx.getImageData(0,0,256,1).data;if(void 0===e)return t;var n=this.max,o=this.min;e>n&&(e=n),e<o&&(e=o);var r=4*Math.floor((e-o)/(n-o)*255);return[t[r],t[r+1],t[r+2],t[r+3]]},l.prototype.getSize=function(e){var t=0,n=this.max,o=this.min,r=this.maxSize,i=this.minSize;return e>n&&(e=n),e<o&&(e=o),t=i+(e-o)/(n-o)*(r-i)},l.prototype.getLegend=function(e){var t=this.gradient,n=e.width||20,o=e.height||180,r=new s(n,o),i=r.getContext("2d"),a=i.createLinearGradient(0,o,0,0);for(var l in t)a.addColorStop(parseFloat(l),t[l]);return i.fillStyle=a,i.fillRect(0,0,n,o),r};var Pe="undefined"==typeof window?{}:window,Oe=Pe.devicePixelRatio||1,je={draw:f},ke={draw:function(e,t,n){e.save();for(var o=t instanceof r?t.get():t,i={},a=n._size||n.size||50,s=n.offset||{x:0,y:0},u=0;u<o.length;u++){var c=o[u].geometry._coordinates||o[u].geometry.coordinates,p=Math.floor((c[0]-s.x)/a)+","+Math.floor((c[1]-s.y)/a);i[p]||(i[p]=0),i[p]+=~~(o[u].count||1)}var f=new l({max:n.max||100,gradient:n.gradient});for(var p in i)p=p.split(","),e.beginPath(),e.rect(p[0]*a+.5+s.x,p[1]*a+.5+s.y,a,a),e.fillStyle=f.getColor(i[p]),e.fill(),n.strokeStyle&&n.lineWidth&&e.stroke();if(n.label&&n.label.show!==!1){e.fillStyle=n.label.fillStyle||"white",n.label.font&&(e.font=n.label.font),n.label.shadowColor&&(e.shadowColor=n.label.shadowColor),n.label.shadowBlur&&(e.shadowBlur=n.label.shadowBlur);for(var p in i){p=p.split(",");var h=i[p],d=e.measureText(h).width;e.fillText(h,p[0]*a+.5+s.x+a/2-d/2,p[1]*a+.5+s.y+a/2+5)}}e.restore()}},Me={draw:function(e,t,n){e.save();var o=t instanceof r?t.get():t;for(var i in n)e[i]=n[i];var a=n.offset||{x:10,y:10},s=n._size||n.size||40;s=s/2/Math.sin(Math.PI/3);for(var u=2*s*Math.sin(Math.PI/3),c=1.5*s,p={},f=0;f<o.length;f++){var d=o[f].geometry._coordinates||o[f].geometry.coordinates,g=(d[1]-a.y)/c,y=Math.round(g),v=(d[0]-a.x)/u-(1&y?.5:0),m=Math.round(v),b=g-y;if(3*Math.abs(b)>1){var _=v-m,w=m+(v<m?-1:1)/2,x=y+(g<y?-1:1),P=v-w,O=g-x;_*_+b*b>P*P+O*O&&(m=w+(1&y?1:-1)/2,y=x)}var j=m+"-"+y,k=p[j];k?k.push(o[f]):(k=p[j]=[o[f]],k.i=m,k.j=y,k.x=(m+(1&y?.5:0))*u,k.y=y*c)}var M=new l({max:n.max||100,maxSize:s,gradient:n.gradient});for(var i in p){var S=p[i];e.beginPath();for(var C=0;C<6;C++){var E=h({x:S.x+a.x,y:S.y+a.y},s,C);e.lineTo(E[0],E[1])}e.closePath();for(var T=0,f=0;f<S.length;f++)T+=S[f].count||1;S.count=T,e.fillStyle=M.getColor(T),e.fill(),n.strokeStyle&&n.lineWidth&&e.stroke()}if(n.label&&n.label.show!==!1){e.fillStyle=n.label.fillStyle||"white",n.label.font&&(e.font=n.label.font),n.label.shadowColor&&(e.shadowColor=n.label.shadowColor),n.label.shadowBlur&&(e.shadowBlur=n.label.shadowBlur);for(var i in p){var S=p[i],L=S.count;L=L<0?L.toFixed(2):~~L;var z=e.measureText(L).width;e.fillText(L,S.x+a.x-z/2,S.y+a.y+5)}}e.restore()}},Se=["attribute vec4 a_Position;","void main() {","gl_Position = a_Position;","gl_PointSize = 30.0;","}"].join(""),Ce=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join(""),Ee={draw:v},Te=["attribute vec4 a_Position;","attribute float a_PointSize;","void main() {","gl_Position = a_Position;","gl_PointSize = a_PointSize;","}"].join(""),Le=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join(""),ze={draw:m};b.deviation=function(e,t,n,o){var r=t&&t.length,i=r?t[0]*n:e.length,a=Math.abs(G(e,0,i,n));if(r)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;a-=Math.abs(G(e,u,c,n))}var p=0;for(s=0;s<o.length;s+=3){var f=o[s]*n,h=o[s+1]*n,d=o[s+2]*n;p+=Math.abs((e[f]-e[d])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[d+1]-e[f+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},b.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},o=0,r=0;r<e.length;r++){for(var i=0;i<e[r].length;i++)for(var a=0;a<t;a++)n.vertices.push(e[r][i][a]);r>0&&(o+=e[r-1].length,n.holes.push(o))}return n};var Ae=["attribute vec4 a_Position;","void main() {","gl_Position = a_Position;","gl_PointSize = 30.0;","}"].join(""),Re=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join(""),Be={draw:$},De={draw:function(e,t,n){var o=t instanceof r?t.get():t;o.length>0&&("LineString"==o[0].geometry.type?Ee.draw(e,o,n):"Polygon"==o[0].geometry.type||"MultiPolygon"==o[0].geometry.type?Be.draw(e,o,n):ze.draw(e,o,n))}},Ie={getPoints:J},Fe=function(){function e(e,t){return e.x*t.x+e.y*t.y}function t(e){return{x:O[e.target].x-O[e.source].x,y:O[e.target].y-O[e.source].y}}function n(e){return Math.sqrt(Math.pow(O[e.source].x-O[e.target].x,2)+Math.pow(O[e.source].y-O[e.target].y,2))}function o(e){return Math.sqrt(Math.pow(e.source.x-e.target.x,2)+Math.pow(e.source.y-e.target.y,2))}function r(e){var t=(O[e.source].x+O[e.target].x)/2,n=(O[e.source].y+O[e.target].y)/2;return{x:t,y:n}}function i(e){for(var t=0,n=1;n<M[e].length;n++){var o=a(M[e][n],M[e][n-1]);t+=o}return t}function a(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function s(e,t){var n=Math.sqrt((t.target.x-t.source.x)*(t.target.x-t.source.x)+(t.target.y-t.source.y)*(t.target.y-t.source.y)),o=((t.source.y-e.y)*(t.source.y-t.target.y)-(t.source.x-e.x)*(t.target.x-t.source.x))/(n*n);return{x:t.source.x+o*(t.target.x-t.source.x),y:t.source.y+o*(t.target.y-t.source.y)}}function l(){for(var e=0;e<j.length;e++)1==E?M[e]=[]:(M[e]=[],M[e].push(O[j[e].source]),M[e].push(O[j[e].target]))}function u(){for(var e=0;e<j.length;e++)k[e]=[]}function c(e){for(var t=[],n=0;n<e.length;n++)O[e[n].source].x!=O[e[n].target].x&&O[e[n].source].y!=O[e[n].target].y&&t.push(e[n]);return t}function p(e,t,n){var o=M[e][t-1],r=M[e][t+1],i=M[e][t],a=o.x-i.x+r.x-i.x,s=o.y-i.y+r.y-i.y;return a*=n,s*=n,{x:a,y:s}}function f(e,t,n){for(var r={x:0,y:0},i=k[e],a=0;a<i.length;a++){var s={x:M[i[a]][t].x-M[e][t].x,y:M[i[a]][t].y-M[e][t].y};if(Math.abs(s.x)>B||Math.abs(s.y)>B){var l=1/Math.pow(o({source:M[i[a]][t],target:M[e][t]}),1);r.x+=s.x*l,r.y+=s.y*l}}return r}function h(e,t,o){for(var r=S/(n(j[e])*(t+1)),i=[{x:0,y:0}],a=1;a<t+1;a++){var s={x:0,y:0},l=p(e,a,r),u=f(e,a,o);s.x=o*(l.x+u.x),s.y=o*(l.y+u.y),i.push(s)}return i.push({x:0,y:0}),i}function d(e){for(var t=0;t<j.length;t++)if(1==e)M[t].push(O[j[t].source]),M[t].push(r(j[t])),M[t].push(O[j[t].target]);else{var n=i(t),o=n/(e+1),s=o,l=[];l.push(O[j[t].source]);for(var u=1;u<M[t].length;u++){for(var c=a(M[t][u],M[t][u-1]);c>s;){var p=s/c,f=M[t][u-1].x,h=M[t][u-1].y;f+=p*(M[t][u].x-M[t][u-1].x),h+=p*(M[t][u].y-M[t][u-1].y),l.push({x:f,y:h}),c-=s,s=o}s-=c}l.push(O[j[t].target]),M[t]=l}}function g(o,r){var i=Math.abs(e(t(o),t(r))/(n(o)*n(r)));return i}function y(e,t){var o=(n(e)+n(t))/2,r=2/(o/Math.min(n(e),n(t))+Math.max(n(e),n(t))/o);return r}function v(e,t){var o=(n(e)+n(t))/2,r={x:(O[e.source].x+O[e.target].x)/2,y:(O[e.source].y+O[e.target].y)/2},i={x:(O[t.source].x+O[t.target].x)/2,y:(O[t.source].y+O[t.target].y)/2},s=o/(o+a(r,i));return s}function m(e,t){var n=s(O[t.source],{source:O[e.source],target:O[e.target]}),o=s(O[t.target],{source:O[e.source],target:O[e.target]}),r={x:(n.x+o.x)/2,y:(n.y+o.y)/2},i={x:(O[e.source].x+O[e.target].x)/2,y:(O[e.source].y+O[e.target].y)/2},l=Math.max(0,1-2*a(i,r)/a(n,o));return l}function b(e,t){return Math.min(m(e,t),m(t,e))}function _(e,t){var n=g(e,t)*y(e,t)*v(e,t)*b(e,t);return n}function w(e,t){return _(e,t)>=R}function x(){for(var e=0;e<j.length-1;e++)for(var t=e+1;t<j.length;t++)e!=t&&w(j[e],j[t])&&(k[e].push(t),k[t].push(e))}var O={},j=[],k=[],M=[],S=.1,C=.1,E=1,T=2,L=6,z=70,A=.6666667,R=.6,B=1e-8,D=function(){var e=C,t=z,n=E;l(),u(),d(n),x();for(var o=0;o<L;o++){for(var r=0;r<t;r++){
for(var i=[],a=0;a<j.length;a++)i[a]=h(a,n,e);for(var s=0;s<j.length;s++)for(var c=0;c<n+1;c++)M[s][c].x+=i[s][c].x,M[s][c].y+=i[s][c].y}e/=2,n*=2,t*=A,d(n)}return M};return D.nodes=function(e){return 0==arguments.length?O:(O=e,D)},D.edges=function(e){return 0==arguments.length?j:(j=c(e),D)},D.bundling_stiffness=function(e){return 0==arguments.length?S:(S=e,D)},D.step_size=function(e){return 0==arguments.length?C:(C=e,D)},D.cycles=function(e){return 0==arguments.length?L:(L=e,D)},D.iterations=function(e){return 0==arguments.length?z:(z=e,D)},D.iterations_rate=function(e){return 0==arguments.length?A:(A=e,D)},D.subdivision_points_seed=function(e){return 0==arguments.length?P:(P=e,D)},D.subdivision_rate=function(e){return 0==arguments.length?T:(T=e,D)},D.compatbility_threshold=function(e){return 0==arguments.length?compatbility_threshold:(R=e,D)},D};K.prototype.get=function(e){var t=this.splitList,n=t.other;for(var o in t)if(e==o){n=t[o];break}return n},K.prototype.generateByDataSet=function(e,t){var n=t||["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],o=e.get();this.splitList={};for(var r=0,i=0;i<o.length&&(void 0===this.splitList[o[i].count]&&(this.splitList[o[i].count]=n[r],r++),!(r>=n.length-1));i++);this.splitList.other=n[n.length-1]},K.prototype.getLegend=function(e){var t=this.splitList,n=document.createElement("div");n.style.cssText="background:#fff; padding: 5px; border: 1px solid #ccc;";var o="";for(var r in t)o+='<div style="line-height: 19px;" value="'+r+'"><span style="vertical-align: -2px; display: inline-block; width: 30px;height: 19px;background:'+t[r]+';"></span><span style="margin-left: 3px;">'+r+"<span></div>";return n.innerHTML=o,n},Q.prototype.get=function(e){for(var t=this.splitList,n=!1,o=0;o<t.length;o++)if((void 0===t[o].start||void 0!==t[o].start&&e>=t[o].start)&&(void 0===t[o].end||void 0!==t[o].end&&e<t[o].end)){n=t[o].value;break}return n},Q.prototype.generateByDataSet=function(e){var t=e.getMin("count"),n=e.getMax("count");this.generateByMinMax(t,n)},Q.prototype.generateByMinMax=function(e,t){var n=["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],o=(t-e)/7,r=e;this.splitList=[];for(var i=0;r<t;)this.splitList.push({start:r,end:r+o,value:n[i]}),i++,r+=o},Q.prototype.getLegend=function(e){this.splitList};var Ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Ue=function(){function e(t,n,o){if(ee(this,e),!t||!n)return console.warn("id 和 type 为必填项"),!1;if("baidu"==n){if(!BMap)return console.warn("请先引入百度地图JS API"),!1}else console.warn("暂不支持你的地图类型");this.type=n;var r=o&&o.center?o.center:[106.962497,38.208726],i=o&&o.zoom?o.zoom:5,a=this.map=new BMap.Map(t,{enableMapClick:!1});a.centerAndZoom(new BMap.Point(r[0],r[1]),i),a.enableScrollWheelZoom(!0),a.setMapStyle({style:"light"})}return Ne(e,[{key:"addLayer",value:function(e,t){if("baidu"==this.type)return new mapv.baiduMapLayer(this.map,dataSet,t)}},{key:"getMap",value:function(){return this.map}}]),e}(),We="undefined"==typeof window?{}:window;We.BMap&&(te.prototype=new BMap.Overlay,te.prototype.initialize=function(e){this._map=e;var t=this.canvas=document.createElement("canvas");t.style.cssText="position:absolute;left:0;top:0;z-index:"+this.zIndex+";user-select:none;",t.style.mixBlendMode=this.mixBlendMode,this.adjustSize(),e.getPanes()[this.paneName].appendChild(t);var n=this;return e.addEventListener("resize",function(){n.adjustSize(),n._draw()}),this.canvas},te.prototype.adjustSize=function(){var e=this._map.getSize(),t=this.canvas,n=this.devicePixelRatio=We.devicePixelRatio||1;t.width=e.width*n,t.height=e.height*n,"2d"==this.context&&t.getContext(this.context).scale(n,n),t.style.width=e.width+"px",t.style.height=e.height+"px"},te.prototype.draw=function(){var e=this;clearTimeout(e.timeoutID),e.timeoutID=setTimeout(function(){e._draw()},15)},te.prototype._draw=function(){var e=this._map,t=e.getSize(),n=e.getCenter();if(n){var o=e.pointToOverlayPixel(n);this.canvas.style.left=o.x-t.width/2+"px",this.canvas.style.top=o.y-t.height/2+"px",this.dispatchEvent("draw"),this.options.update&&this.options.update.call(this)}},te.prototype.getContainer=function(){return this.canvas},te.prototype.show=function(){this.canvas||this._map.addOverlay(this),this.canvas.style.display="block"},te.prototype.hide=function(){this.canvas.style.display="none"},te.prototype.setZIndex=function(e){this.canvas.style.zIndex=e},te.prototype.getZIndex=function(){return this.zIndex});var Ze=Ze||function(){var e=[];return{getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)},update:function(t,n){if(0===e.length)return!1;var o=0;for(t=void 0!==t?t:Ze.now();o<e.length;)e[o].update(t)||n?o++:e.splice(o,1);return!0}}}();"undefined"==typeof window&&"undefined"!=typeof e?Ze.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?Ze.now=window.performance.now.bind(window.performance):void 0!==Date.now?Ze.now=Date.now:Ze.now=function(){return(new Date).getTime()},Ze.Tween=function(e){var t,n=e,o={},r={},i={},a=1e3,s=0,l=!1,u=!1,c=!1,p=0,f=null,h=Ze.Easing.Linear.None,d=Ze.Interpolation.Linear,g=[],y=null,v=!1,m=null,b=null,_=null;this.to=function(e,t){return r=e,void 0!==t&&(a=t),this},this.start=function(e){Ze.add(this),u=!0,v=!1,f=void 0!==e?e:Ze.now(),f+=p;for(var t in r){if(r[t]instanceof Array){if(0===r[t].length)continue;r[t]=[n[t]].concat(r[t])}void 0!==n[t]&&(o[t]=n[t],o[t]instanceof Array==!1&&(o[t]*=1),i[t]=o[t]||0)}return this},this.stop=function(){return u?(Ze.remove(this),u=!1,null!==_&&_.call(n,n),this.stopChainedTweens(),this):this},this.end=function(){return this.update(f+a),this},this.stopChainedTweens=function(){for(var e=0,t=g.length;e<t;e++)g[e].stop()},this.delay=function(e){return p=e,this},this.repeat=function(e){return s=e,this},this.repeatDelay=function(e){return t=e,this},this.yoyo=function(e){return l=e,this},this.easing=function(e){return h=e,this},this.interpolation=function(e){return d=e,this},this.chain=function(){return g=arguments,this},this.onStart=function(e){return y=e,this},this.onUpdate=function(e){return m=e,this},this.onComplete=function(e){return b=e,this},this.onStop=function(e){return _=e,this},this.update=function(e){var u,_,w;if(e<f)return!0;v===!1&&(null!==y&&y.call(n,n),v=!0),_=(e-f)/a,_=_>1?1:_,w=h(_);for(u in r)if(void 0!==o[u]){var x=o[u]||0,P=r[u];P instanceof Array?n[u]=d(P,w):("string"==typeof P&&(P="+"===P.charAt(0)||"-"===P.charAt(0)?x+parseFloat(P):parseFloat(P)),"number"==typeof P&&(n[u]=x+(P-x)*w))}if(null!==m&&m.call(n,w),1===_){if(s>0){isFinite(s)&&s--;for(u in i){if("string"==typeof r[u]&&(i[u]=i[u]+parseFloat(r[u])),l){var O=i[u];i[u]=r[u],r[u]=O}o[u]=i[u]}return l&&(c=!c),f=void 0!==t?e+t:e+p,!0}null!==b&&b.call(n,n);for(var j=0,k=g.length;j<k;j++)g[j].start(f+a);return!1}return!0}},Ze.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-Ze.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*Ze.Easing.Bounce.In(2*e):.5*Ze.Easing.Bounce.Out(2*e-1)+.5}}},Ze.Interpolation={Linear:function(e,t){var n=e.length-1,o=n*t,r=Math.floor(o),i=Ze.Interpolation.Utils.Linear;return t<0?i(e[0],e[1],o):t>1?i(e[n],e[n-1],n-o):i(e[r],e[r+1>n?n:r+1],o-r)},Bezier:function(e,t){for(var n=0,o=e.length-1,r=Math.pow,i=Ze.Interpolation.Utils.Bernstein,a=0;a<=o;a++)n+=r(1-t,o-a)*r(t,a)*e[a]*i(o,a);return n},CatmullRom:function(e,t){var n=e.length-1,o=n*t,r=Math.floor(o),i=Ze.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(r=Math.floor(o=n*(1+t))),i(e[(r-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],o-r)):t<0?e[0]-(i(e[0],e[0],e[1],e[1],-o)-e[0]):t>1?e[n]-(i(e[n],e[n],e[n-1],e[n-1],o-n)-e[n]):i(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],o-r)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=Ze.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var o=t;o>1;o--)n*=o;return e[t]=n,n}}(),CatmullRom:function(e,t,n,o,r){var i=.5*(n-e),a=.5*(o-t),s=r*r,l=r*s;return(2*t-2*n+i+a)*l+(-3*t+3*n-2*i-a)*s+i*r+t}}};var qe={draw:function(e,t,n){var o=t instanceof r?t.get():t;e.save();for(var i in n)e[i]=n[i];var a=n.offset||{x:0,y:0},s=[],l=n._size||n.size;l?e.font="bold "+l+"px Arial":l=12;var u=n.textKey||"text";if(n.textAlign||(e.textAlign="center"),n.textBaseline||(e.textBaseline="middle"),n.avoid)for(var c=0,p=o.length;c<p;c++){var f=o[c].geometry._coordinates||o[c].geometry.coordinates,h=f[0]+a.x,d=f[1]+a.y,g=o[c][u],y=e.measureText(g).width,v=h-y/2,m=d-l/2,b={sw:{x:v,y:m+l},ne:{x:v+y,y:m}};ne(s,b)||(s.push(b),v+=y/2,m+=l/2,e.fillText(g,v,m))}else for(var c=0,p=o.length;c<p;c++){var f=o[c].geometry._coordinates||o[c].geometry.coordinates,h=f[0]+a.x,d=f[1]+a.y,g=o[c][u];e.fillText(g,h,d)}e.restore()}},Ve={draw:function(e,t,n){var o=t instanceof r?t.get():t;e.fillStyle="white",e.textAlign="center",e.textBaseline="middle";for(var i=n.offset||{x:0,y:0},a=0,s=o.length;a<s;a++)if(o[a].geometry){var l=o[a].deg||n.deg,u=o[a].icon||n.icon,c=o[a].geometry._coordinates||o[a].geometry.coordinates,p=c[0],f=c[1];l&&(e.save(),e.translate(p,f),e.rotate(l*Math.PI/180),e.translate(-p,-f));var h=n._width||n.width||u.width,d=n._height||n.height||u.height;p=p-h/2+i.x,f=f-d/2+i.y,n.sx&&n.sy&&n.swidth&&n.sheight&&n.width&&n.height?e.drawImage(u,n.sx,n.sy,n.swidth,n.sheight,p,f,h,d):n.width&&n.height?e.drawImage(u,p,f,h,d):e.drawImage(u,p,f),l&&e.restore()}}},He=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();"undefined"!=typeof window&&requestAnimationFrame(ie);var Ye=function(){function e(t,n,o){re(this,e),n instanceof r||(n=new r(n)),this.dataSet=n,this.map=t}return He(e,[{key:"getDefaultContextConfig",value:function(){return{globalAlpha:1,globalCompositeOperation:"source-over",imageSmoothingEnabled:!0,strokeStyle:"#000000",fillStyle:"#000000",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)",lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,lineDashOffset:0,font:"10px sans-serif",textAlign:"start",textBaseline:"alphabetic"}}},{key:"initDataRange",value:function(e){var t=this;if(t.intensity=new l({maxSize:t.options.maxSize,minSize:t.options.minSize,gradient:t.options.gradient,max:t.options.max||this.dataSet.getMax("count")}),t.category=new K(t.options.splitList),t.choropleth=new Q(t.options.splitList),void 0===t.options.splitList&&t.category.generateByDataSet(this.dataSet,t.options.color),void 0===t.options.splitList){var n=t.options.min||this.dataSet.getMin("count"),o=t.options.max||this.dataSet.getMax("count");t.choropleth.generateByMinMax(n,o)}}},{key:"getLegend",value:function(e){var t=(this.options.draw,this);return"intensity"==t.options.draw||"heatmap"==t.options.draw?this.intensity.getLegend(e):"category"==t.options.draw?this.category.getLegend(e):void 0}},{key:"processData",value:function(e){var t=this,n=t.options.draw;if("bubble"==n||"intensity"==n||"category"==n||"choropleth"==n||"simple"==n)for(var o=0;o<e.length;o++){var r=e[o];"bubble"==t.options.draw?e[o]._size=t.intensity.getSize(r.count):e[o]._size=void 0;var i="_fillStyle";"LineString"!==e[o].geometry.type&&"stroke"!==t.options.styleType||(i="_strokeStyle"),"intensity"==t.options.draw?e[o][i]=t.intensity.getColor(r.count):"category"==t.options.draw?e[o][i]=t.category.get(r.count):"choropleth"==t.options.draw&&(e[o][i]=t.choropleth.get(r.count))}}},{key:"isEnabledTime",value:function(){var e=this.options.animation,t=e&&!(e.enabled===!1);return t}},{key:"argCheck",value:function(e){"heatmap"==e.draw&&e.strokeStyle&&console.warn("[heatmap] options.strokeStyle is discard, pleause use options.strength [eg: options.strength = 0.1]")}},{key:"drawContext",value:function(e,t,n,o){var r=this;switch(r.options.draw){case"heatmap":je.draw(e,t,r.options);break;case"grid":case"honeycomb":r.options.offset={x:o.x,y:o.y},"grid"==r.options.draw?ke.draw(e,t,r.options):Me.draw(e,t,r.options);break;case"text":qe.draw(e,t,r.options);break;case"icon":Ve.draw(e,t,r.options);break;case"clip":e.save(),e.fillStyle=r.options.fillStyle||"rgba(0, 0, 0, 0.5)",e.fillRect(0,0,e.canvas.width,e.canvas.height),xe.draw(e,t,r.options),e.beginPath(),we.drawDataSet(e,t,r.options),e.clip(),ve(e),e.restore();break;default:"webgl"==r.options.context?De.draw(r.canvasLayer.canvas.getContext("webgl"),t,r.options):xe.draw(e,t,r.options)}}},{key:"isPointInPath",value:function(e,t){for(var e=this.canvasLayer.canvas.getContext(this.context),n=this.dataSet.get(),o=0;o<n.length;o++){e.beginPath(),we.draw(e,n[o],this.options);var r=t.x*this.canvasLayer.devicePixelRatio,i=t.y*this.canvasLayer.devicePixelRatio;if(e.isPointInPath(r,i)||e.isPointInStroke(r,i))return n[o]}}},{key:"clickEvent",value:function(e,t){var n=this.isPointInPath(this.getContext(),e);n?this.options.methods.click(n,t):this.options.methods.click(null,t)}},{key:"mousemoveEvent",value:function(e,t){var n=this.isPointInPath(this.getContext(),e);n?this.options.methods.mousemove(n,t):this.options.methods.mousemove(null,t)}},{key:"update",value:function(e,t){var n=this,o=e.options,r=n.options;for(var i in o)r[i]=o[i];n.init(r),t!==!1&&n.draw()}},{key:"setOptions",value:function(e){var t=this;t.init(e),t.draw()}},{key:"set",value:function(e){var t=this,n=this.getContext(),o=this.getDefaultContextConfig();for(var r in o)n[r]=o[r];t.init(e.options),t.draw()}},{key:"destroy",value:function(){this.unbindEvent(),this.hide()}},{key:"initAnimator",value:function(){var e=this,t=e.options.animation;if("time"==e.options.draw||e.isEnabledTime()){t.stepsRange||(t.stepsRange={start:this.dataSet.getMin("time")||0,end:this.dataSet.getMax("time")||0}),this.steps={step:t.stepsRange.start},e.animator=new Ze.Tween(this.steps).onUpdate(function(){e._canvasUpdate(this.step)}).repeat(1/0),this.addAnimatorEvent();var n=1e3*t.duration||5e3;e.animator.to({step:t.stepsRange.end},n),e.animator.start()}else e.animator&&e.animator.stop()}},{key:"addAnimatorEvent",value:function(){}},{key:"animatorMovestartEvent",value:function(){var e=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=e.stepsRange.start,this.animator.stop())}},{key:"animatorMoveendEvent",value:function(){this.isEnabledTime()&&this.animator&&this.animator.start()}}]),e}(),Ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),$e=function(e){function t(e,n,o){ae(this,t);var r=se(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));r.map=e,r.options=o||{},r.dataSet=n;var i=new te({map:e,zIndex:r.options.zIndex,update:r._canvasUpdate.bind(r)});r.init(r.options),r.canvasLayer=i,r.transferToMercator();var a=r;return n.on("change",function(){a.transferToMercator(),i.draw()}),r.ctx=i.canvas.getContext("2d"),r.start(),r}return le(t,e),Ge(t,[{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),t.options.max&&this.intensity.setMax(t.options.max),t.options.min&&this.intensity.setMin(t.options.min),this.initAnimator()}},{key:"transferToMercator",value:function(){var e=this.map.getMapType().getProjection();if("bd09mc"!==this.options.coordType){var t=this.dataSet.get();t=this.dataSet.transferCoordinate(t,function(t){var n=e.lngLatToPoint({lng:t[0],lat:t[1]});return[n.x,n.y]},"coordinates","coordinates_mercator"),this.dataSet._set(t)}}},{key:"_canvasUpdate",value:function(){var e=this.ctx;if(e){var t=this.map,n=Math.pow(2,18-t.getZoom()),o=t.getMapType().getProjection(),r=o.lngLatToPoint(t.getCenter()),i=new BMap.Pixel(r.x-t.getSize().width/2*n,r.y+t.getSize().height/2*n);ve(e);var a={fromColumn:"bd09mc"==this.options.coordType?"coordinates":"coordinates_mercator",transferCoordinate:function(e){if(e){var t=(e[0]-i.x)/n,o=(i.y-e[1])/n;return[t,o]}}};this.data=this.dataSet.get(a),this.processData(this.data),this.drawAnimation()}}},{key:"drawAnimation",value:function(){var e=this.ctx,t=this.data;if(t){e.save(),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(0, 0, 0, .1)",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.restore(),e.save(),this.options.shadowColor&&(e.shadowColor=this.options.shadowColor),this.options.shadowBlur&&(e.shadowBlur=this.options.shadowBlur),this.options.globalAlpha&&(e.globalAlpha=this.options.globalAlpha),this.options.globalCompositeOperation&&(e.globalCompositeOperation=this.options.globalCompositeOperation);for(var n=this.options,o=0;o<t.length;o++)if("Point"===t[o].geometry.type){e.beginPath();var r=t[o].size||this.options.size,i=t[o].minSize||this.options.minSize||0;void 0===t[o]._size&&(t[o]._size=i),e.arc(t[o].geometry._coordinates[0],t[o].geometry._coordinates[1],t[o]._size,0,2*Math.PI,!0),e.closePath(),t[o]._size++,t[o]._size>r&&(t[o]._size=i),e.lineWidth=1,e.strokeStyle=t[o].strokeStyle||t[o]._strokeStyle||n.strokeStyle||"yellow",e.stroke();var a=t[o].fillStyle||t[o]._fillStyle||n.fillStyle;a&&(e.fillStyle=a,e.fill())}else if("LineString"===t[o].geometry.type){e.beginPath();var s=t[o].size||this.options.size||5,i=t[o].minSize||this.options.minSize||0;void 0===t[o]._index&&(t[o]._index=0);var l=t[o]._index;e.arc(t[o].geometry._coordinates[l][0],t[o].geometry._coordinates[l][1],s,0,2*Math.PI,!0),e.closePath(),t[o]._index++,t[o]._index>=t[o].geometry._coordinates.length&&(t[o]._index=0),e.lineWidth=n.lineWidth||1;var u=t[o].strokeStyle||n.strokeStyle,a=t[o].fillStyle||n.fillStyle||"yellow";e.fillStyle=a,e.fill(),u&&(e.strokeStyle=u,e.stroke())}e.restore()}}},{key:"animate",value:function(){this.drawAnimation();var e=this.options.animateTime||100;this.timeout=setTimeout(this.animate.bind(this),e)}},{key:"start",value:function(){this.stop(),this.animate()}},{key:"stop",value:function(){clearTimeout(this.timeout)}},{key:"unbindEvent",value:function(){}},{key:"hide",value:function(){this.canvasLayer.hide(),this.stop()}},{key:"show",value:function(){this.start()}}]),t}(Ye),Je=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Xe=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)},Ke=function(e){function t(e,n,o){ue(this,t);var r=ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o)),i=r;o=o||{},r.clickEvent=r.clickEvent.bind(r),r.mousemoveEvent=r.mousemoveEvent.bind(r),i.init(o),i.argCheck(o),i.transferToMercator();var a=r.canvasLayer=new te({map:e,context:r.context,paneName:o.paneName,mixBlendMode:o.mixBlendMode,enableMassClear:o.enableMassClear,zIndex:o.zIndex,update:function(){i._canvasUpdate()}});return n.on("change",function(){i.transferToMercator(),a.draw()}),r}return pe(t,e),Je(t,[{key:"clickEvent",value:function(e){var n=e.pixel;Xe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,n,e)}},{key:"mousemoveEvent",value:function(e){var n=e.pixel;Xe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"bindEvent",value:function(e){this.unbindEvent();var t=this.map;this.options.methods&&(this.options.methods.click&&(t.setDefaultCursor("default"),t.addEventListener("click",this.clickEvent)),this.options.methods.mousemove&&t.addEventListener("mousemove",this.mousemoveEvent))}},{key:"unbindEvent",value:function(e){var t=this.map;this.options.methods&&(this.options.methods.click&&t.removeEventListener("click",this.clickEvent),this.options.methods.mousemove&&t.removeEventListener("mousemove",this.mousemoveEvent))}},{key:"transferToMercator",value:function(){var e=this.map.getMapType().getProjection();if("bd09mc"!==this.options.coordType){var t=this.dataSet.get();t=this.dataSet.transferCoordinate(t,function(t){var n=e.lngLatToPoint({lng:t[0],lat:t[1]});return[n.x,n.y]},"coordinates","coordinates_mercator"),this.dataSet._set(t)}}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"_canvasUpdate",value:function(e){if(this.canvasLayer){var t=this,n=t.options.animation,o=this.canvasLayer._map,r=Math.pow(2,18-o.getZoom()),i=o.getMapType().getProjection(),a=i.lngLatToPoint(o.getCenter()),s=new BMap.Pixel(a.x-o.getSize().width/2*r,a.y+o.getSize().height/2*r),l=this.getContext();if(t.isEnabledTime()){if(void 0===e)return void ve(l);"2d"==this.context&&(l.save(),l.globalCompositeOperation="destination-out",l.fillStyle="rgba(0, 0, 0, .1)",l.fillRect(0,0,l.canvas.width,l.canvas.height),l.restore())}else ve(l);if("2d"==this.context)for(var u in t.options)l[u]=t.options[u];else l.clear(l.COLOR_BUFFER_BIT);if(!(t.options.minZoom&&o.getZoom()<t.options.minZoom||t.options.maxZoom&&o.getZoom()>t.options.maxZoom)){var c=1;"2d"!=this.context&&(c=this.canvasLayer.devicePixelRatio);var p={fromColumn:"bd09mc"==t.options.coordType?"coordinates":"coordinates_mercator",transferCoordinate:function(e){var t=(e[0]-s.x)/r*c,n=(s.y-e[1])/r*c;return[t,n]}};void 0!==e&&(p.filter=function(t){var o=n.trails||10;return!!(e&&t.time>e-o&&t.time<e)});var f=t.dataSet.get(p);this.processData(f);var h=o.pointToPixel(new BMap.Point(0,0));"m"==t.options.unit?(t.options.size&&(t.options._size=t.options.size/r),t.options.width&&(t.options._width=t.options.width/r),t.options.height&&(t.options._height=t.options.height/r)):(t.options._size=t.options.size,t.options._height=t.options.height,t.options._width=t.options.width),this.drawContext(l,f,t.options,h),t.options.updateCallback&&t.options.updateCallback(e)}}}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),t.options.max&&this.intensity.setMax(t.options.max),t.options.min&&this.intensity.setMin(t.options.min),this.initAnimator(),this.bindEvent()}},{key:"addAnimatorEvent",value:function(){this.map.addEventListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addEventListener("moveend",this.animatorMoveendEvent.bind(this))}},{key:"show",value:function(){this.map.addOverlay(this.canvasLayer)}},{key:"hide",value:function(){this.map.removeOverlay(this.canvasLayer)}},{key:"draw",value:function(){this.canvasLayer.draw()}}]),t}(Ye),Qe="undefined"==typeof window?{}:window;Qe.google&&Qe.google.maps&&(fe.prototype=new google.maps.OverlayView,fe.DEFAULT_PANE_NAME_="overlayLayer",fe.CSS_TRANSFORM_=function(){for(var e=document.createElement("div"),t=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],n=0;n<t.length;n++){var o=t[n];if(void 0!==e.style[o])return o}return t[0]}(),fe.prototype.requestAnimFrame_=Qe.requestAnimationFrame||Qe.webkitRequestAnimationFrame||Qe.mozRequestAnimationFrame||Qe.oRequestAnimationFrame||Qe.msRequestAnimationFrame||function(e){return Qe.setTimeout(e,1e3/60)},fe.prototype.cancelAnimFrame_=Qe.cancelAnimationFrame||Qe.webkitCancelAnimationFrame||Qe.mozCancelAnimationFrame||Qe.oCancelAnimationFrame||Qe.msCancelAnimationFrame||function(e){},fe.prototype.setOptions=function(e){void 0!==e.animate&&this.setAnimate(e.animate),void 0!==e.paneName&&this.setPaneName(e.paneName),void 0!==e.updateHandler&&this.setUpdateHandler(e.updateHandler),void 0!==e.resizeHandler&&this.setResizeHandler(e.resizeHandler),void 0!==e.resolutionScale&&this.setResolutionScale(e.resolutionScale),void 0!==e.map&&this.setMap(e.map)},fe.prototype.setAnimate=function(e){this.isAnimated_=!!e,this.isAnimated_&&this.scheduleUpdate()},fe.prototype.isAnimated=function(){return this.isAnimated_},fe.prototype.setPaneName=function(e){this.paneName_=e,this.setPane_()},fe.prototype.getPaneName=function(){return this.paneName_},fe.prototype.setPane_=function(){if(this.isAdded_){var e=this.getPanes();if(!e[this.paneName_])throw new Error('"'+this.paneName_+'" is not a valid MapPane name.');e[this.paneName_].appendChild(this.canvas)}},fe.prototype.setResizeHandler=function(e){this.resizeHandler_=e},fe.prototype.setResolutionScale=function(e){"number"==typeof e&&(this.resolutionScale_=e,this.resize_())},fe.prototype.setUpdateHandler=function(e){this.updateHandler_=e},fe.prototype.onAdd=function(){this.isAdded_||(this.isAdded_=!0,this.setPane_(),this.resizeListener_=google.maps.event.addListener(this.getMap(),"resize",this.resizeFunction_),this.centerListener_=google.maps.event.addListener(this.getMap(),"center_changed",this.repositionFunction_),this.resize_(),this.repositionCanvas_())},fe.prototype.onRemove=function(){this.isAdded_&&(this.isAdded_=!1,this.topLeft_=null,this.canvas.parentElement.removeChild(this.canvas),this.centerListener_&&(google.maps.event.removeListener(this.centerListener_),this.centerListener_=null),this.resizeListener_&&(google.maps.event.removeListener(this.resizeListener_),this.resizeListener_=null),this.requestAnimationFrameId_&&(this.cancelAnimFrame_.call(Qe,this.requestAnimationFrameId_),this.requestAnimationFrameId_=null))},fe.prototype.resize_=function(){if(this.isAdded_){var e=this.getMap(),t=e.getDiv().offsetWidth,n=e.getDiv().offsetHeight,o=t*this.resolutionScale_,r=n*this.resolutionScale_,i=this.canvas.width,a=this.canvas.height;i===o&&a===r||(this.canvas.width=o,this.canvas.height=r,this.needsResize_=!0,this.scheduleUpdate()),this.canvasCssWidth_===t&&this.canvasCssHeight_===n||(this.canvasCssWidth_=t,this.canvasCssHeight_=n,this.canvas.style.width=t+"px",this.canvas.style.height=n+"px")}},fe.prototype.draw=function(){this.repositionCanvas_()},fe.prototype.repositionCanvas_=function(){var e=this.getMap(),t=e.getBounds().getNorthEast().lat(),n=e.getCenter(),o=Math.pow(2,e.getZoom()),r=n.lng()-180*this.canvasCssWidth_/(256*o);this.topLeft_=new google.maps.LatLng(t,r);var i=this.getProjection(),a=i.fromLatLngToDivPixel(n),s=-Math.round(this.canvasCssWidth_/2-a.x),l=-Math.round(this.canvasCssHeight_/2-a.y);this.canvas.style[fe.CSS_TRANSFORM_]="translate("+s+"px,"+l+"px)",this.scheduleUpdate()},fe.prototype.update_=function(){this.requestAnimationFrameId_=null,this.isAdded_&&(this.isAnimated_&&this.scheduleUpdate(),this.needsResize_&&this.resizeHandler_&&(this.needsResize_=!1,this.resizeHandler_()),this.updateHandler_&&this.updateHandler_())},fe.prototype.getTopLeft=function(){return this.topLeft_},fe.prototype.scheduleUpdate=function(){this.isAdded_&&!this.requestAnimationFrameId_&&(this.requestAnimationFrameId_=this.requestAnimFrame_.call(Qe,this.requestUpdateFunction_))});var et=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),tt=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)},nt=function(e){function t(e,n,o){he(this,t);var r=de(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o)),i=r;o=o||{},i.init(o),i.argCheck(o);var a={map:e,animate:!1,updateHandler:function(){i._canvasUpdate()},resolutionScale:resolutionScale};r.canvasLayer=new fe(a);return r.clickEvent=r.clickEvent.bind(r),r.mousemoveEvent=r.mousemoveEvent.bind(r),r.bindEvent(),r}return ge(t,e),et(t,[{key:"clickEvent",value:function(e){var n=e.pixel;tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,n,e)}},{key:"mousemoveEvent",value:function(e){var n=e.pixel;tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"bindEvent",value:function(e){var t=this.map;this.options.methods&&(this.options.methods.click&&(t.setDefaultCursor("default"),t.addListener("click",this.clickEvent)),this.options.methods.mousemove&&t.addListener("mousemove",this.mousemoveEvent))}},{key:"unbindEvent",value:function(e){var t=this.map;this.options.methods&&(this.options.methods.click&&t.removeListener("click",this.clickEvent),this.options.methods.mousemove&&t.removeListener("mousemove",this.mousemoveEvent))}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"_canvasUpdate",value:function(e){if(this.canvasLayer){var t=this,n=t.options.animation,o=this.getContext();if(t.isEnabledTime()){if(void 0===e)return void ve(o);"2d"==this.context&&(o.save(),o.globalCompositeOperation="destination-out",o.fillStyle="rgba(0, 0, 0, .1)",o.fillRect(0,0,o.canvas.width,o.canvas.height),o.restore())}else ve(o);if("2d"==this.context)for(var i in t.options)o[i]=t.options[i];else o.clear(o.COLOR_BUFFER_BIT);if(!(t.options.minZoom&&s.getZoom()<t.options.minZoom||t.options.maxZoom&&s.getZoom()>t.options.maxZoom)){var a=1;"2d"!=this.context&&(a=this.canvasLayer.devicePixelRatio);var s=this.map,l=s.getProjection(),a=Math.pow(2,s.zoom)*resolutionScale,u=l.fromLatLngToPoint(this.canvasLayer.getTopLeft()),c={transferCoordinate:function(e){var t=new google.maps.LatLng(e[1],e[0]),n=l.fromLatLngToPoint(t),o={x:(n.x-u.x)*a,y:(n.y-u.y)*a};return[o.x,o.y]}};void 0!==e&&(c.filter=function(t){var o=n.trails||10;return!!(e&&t.time>e-o&&t.time<e);
});var p=t.dataSet.get(c);this.processData(p);var f=new google.maps.LatLng(0,0),h=l.fromLatLngToPoint(f),d={x:(h.x-u.x)*a,y:(h.y-u.y)*a};"m"==t.options.unit&&t.options.size?t.options._size=t.options.size/zoomUnit:t.options._size=t.options.size,this.drawContext(o,new r(p),t.options,d),t.options.updateCallback&&t.options.updateCallback(e)}}}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){this.map.addListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addListener("moveend",this.animatorMoveendEvent.bind(this))}},{key:"show",value:function(){this.map.addOverlay(this.canvasLayer)}},{key:"hide",value:function(){this.map.removeOverlay(this.canvasLayer)}},{key:"draw",value:function(){self.canvasLayer.draw()}}]),t}(Ye),ot={getDataSet:function(e){for(var t=[],n=e.features,o=0;o<n.length;o++){var i=n[o],a=i.geometry,s=i.properties,l={};for(var u in s)l[u]=s[u];l.geometry=a,t.push(l)}return new r(t)}},rt={CSVToArray:function(e,t){t=t||",";for(var n=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),o=[[]],r=null;r=n.exec(e);){var i=r[1];i.length&&i!==t&&o.push([]);var a;a=r[2]?r[2].replace(new RegExp('""',"g"),'"'):r[3],o[o.length-1].push(a)}return o},getDataSet:function(e,t){for(var n=this.CSVToArray(e,t||","),o=[],i=n[0],a=1;a<n.length-1;a++){for(var s=n[a],l={},u=0;u<s.length;u++){var c=s[u];"geometry"==i[u]&&(c=JSON.parse(c)),l[i[u]]=c}o.push(l)}return new r(o)}};t.version=ye,t.canvasClear=ve,t.canvasResolutionScale=me,t.canvasDrawSimple=xe,t.canvasDrawHeatmap=je,t.canvasDrawGrid=ke,t.canvasDrawHoneycomb=Me,t.webglDrawSimple=De,t.webglDrawPoint=ze,t.webglDrawLine=Ee,t.webglDrawPolygon=Be,t.utilCityCenter=_e,t.utilCurve=Ie,t.utilForceEdgeBundling=Fe,t.utilDataRangeIntensity=l,t.utilDataRangeCategory=K,t.utilDataRangeChoropleth=Q,t.Map=Ue,t.baiduMapCanvasLayer=te,t.baiduMapAnimationLayer=$e,t.baiduMapLayer=Ke,t.googleMapCanvasLayer=fe,t.googleMapLayer=nt,t.DataSet=r,t.geojson=ot,t.csv=rt,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-bmap/lib/components/boundary.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/component.js"),u=o(l),c=n("./node_modules/mapv/build/mapv.js"),p=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this._allRequest={},this._backData={},this.initialize()}},{key:"componentWillUnmount",value:function(){this.mapvLayer&&(this.mapvLayer.destroy(),this.mapvLayer=null)}},{key:"getPointArrayByDataSetData",value:function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n].geometry.coordinates[0];o.forEach(function(e){t.push(new BMap.Point(e[0],e[1]))})}return t}},{key:"getBoundaryData",value:function(){function e(){var e=!0;for(var t in o._request)o._request[t]||(e=!1);if(e){o.dataSet.set(i);var r=o.getPointArrayByDataSetData(i);r.length>0&&o.props.autoViewport!==!1&&n.setViewport(r,o.props.viewportOptions)}}var t=this.props.data,n=this.props.map;if(t){this._request={};var o=this,r=new BMap.Boundary,i=[];t.forEach(function(e,t){o._request[e.name]=!1,o._backData[e.name]&&(i=i.concat(o._backData[e.name]),o._request[e.name]=!0)}),e(),t.forEach(function(t,n){o._request[t.name]||o._allRequest[t.name]||(o._allRequest[t.name]=!0,r.get(t.name,function(n){for(var r=[],a=0;a<n.boundaries.length;a++){for(var s=[],l=n.boundaries[a].split(";"),u=0;u<l.length;u++)s.push(l[u].split(","));r.push({geometry:{type:"Polygon",coordinates:[s]},count:t.count})}o._backData[t.name]=r,i=i.concat(r),o._request[t.name]=!0,e()}))})}}},{key:"initialize",value:function(){var e=this.props.map;if(e){if(!this.mapvLayer){this.dataSet=new c.DataSet([]);var t=this.props.layerOptions||{gradient:{0:"yellow",1:"red"},max:100,globalAlpha:.8,draw:"intensity"};this.mapvLayer=new c.baiduMapLayer(e,this.dataSet,t)}this.getBoundaryData()}}}]),t}(u.default);t.default=p},"./node_modules/react-bmap/lib/components/circle.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/graphy.js"),u=o(l),c=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"getOverlay",value:function(){var e=this.props.center,t=this.props.radius;return new BMap.Circle(e,t,this.getOptions(this.options))}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/components/component.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("./node_modules/react/react.js"),l=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"bindEvent",value:function(e,t){var n=this;t&&t.forEach(function(t){e.addEventListener(t,function(){n.props.events&&n.props.events[t]&&n.props.events[t].apply(n,arguments)})})}},{key:"bindToggleMeghods",value:function(e,t){for(var n in t)void 0!==this.props[n]&&(this.props[n]?e[t[n][0]]():e[t[n][1]]())}},{key:"getOptions",value:function(e){var t=this,n={};return e.map(function(e){void 0!==t.props[e]&&(n[e]=t.props[e])}),n}},{key:"render",value:function(){return null}}]),t}(s.Component);t.default=l},"./node_modules/react-bmap/lib/components/control.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/component.js"),u=o(l),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.props.map.removeControl(this.control),this.control=null}},{key:"initialize",value:function(){var e=this.props.map;e&&(this.destroy(),this.control=this.getControl(),e.addControl(this.control))}},{key:"getControl",value:function(){return null}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/components/driving-route.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/component.js"),u=o(l),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.driving&&this.driving.clearResults(),this.driving=null}},{key:"initialize",value:function(){var e=this.props.map;if(e){this.destroy(),this.driving||(this.driving=new BMap.DrivingRoute(e,{renderOptions:{map:e,policy:this.props.policy||BMAP_DRIVING_POLICY_LEAST_TIME,autoViewport:!0}}));var t=this.props.start,n=this.props.end;t.lng&&t.lat&&(t=new BMap.Point(t.lng,t.lat)),n.lng&&n.lat&&(n=new BMap.Point(n.lng,n.lat)),this.driving.search(t,n)}}}],[{key:"defaultProps",get:function(){return{}}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/components/graphy.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/component.js"),u=o(l),c=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.props.map.removeOverlay(this.overlay),this.overlay=null}},{key:"initialize",value:function(){var e=this.props.map;if(e){this.destroy(),this.overlay=this.getOverlay(),this.bindEvent(this.overlay,this.events),e.addOverlay(this.overlay);var t=this.overlay.getPath();t&&t.length>0&&this.props.autoViewport===!0&&e.setViewport(t,this.props.viewportOptions)}}},{key:"getOverlay",value:function(){return null}},{key:"options",get:function(){return["strokeColor","fillColor","strokeWeight","strokeOpacity","fillOpacity","strokeStyle","enableMassClear","enableEditing","enableClicking"]}},{key:"events",get:function(){return["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"]}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/components/infowindow.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/component.js"),u=o(l),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.props.map.closeInfoWindow(),this.infoWindow=null}},{key:"initialize",value:function(){var e=this.props.map;if(e){this.destroy();this.infoWindow=new BMap.InfoWindow(this.props.text,this.getOptions(this.options)),this.bindEvent(this.infoWindow,this.events),e.openInfoWindow(this.infoWindow,new BMap.Point(this.props.position.lng,this.props.position.lat))}}},{key:"options",get:function(){return["width","height","maxWidth","offset","title","enableAutoPan","enableCloseOnClick","enableMessage","message"]}},{key:"events",get:function(){return["close","open","maximize","restore","clickclose"]}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/components/map-type-control.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/control.js"),u=o(l),c=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"getControl",value:function(){return new BMap.MapTypeControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset","type","mapTypes"]}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/components/map.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react/react.js"),u=o(l),c=n("./node_modules/react-bmap/lib/components/component.js"),p=o(c),f=n("./node_modules/react-bmap/lib/utils/common.js"),h=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.initMap(),this.forceUpdate()}},{key:"componentDidUpdate",value:function(e){var t=e.center,n=this.props.center;if((0,f.isString)(n))t!=n&&this.map.centerAndZoom(n);else{var o=t&&n&&t.lng!=n.lng||t.lat!=n.lat||this.props.forceUpdate,r=e.zoom!==this.props.zoom&&this.props.zoom||this.props.forceUpdate,n=new BMap.Point(n.lng,n.lat);o&&r?this.map.centerAndZoom(n,this.props.zoom):o?this.map.setCenter(n):r&&this.map.zoomTo(this.props.zoom)}}},{key:"initMap",value:function(){var e=this,t=this.options;t=this.getOptions(t),this.props.enableMapClick!==!0&&(t.enableMapClick=!1);var n=new BMap.Map(this.refs.map,t);this.map=n,this.props.mapStyle&&n.setMapStyle(this.props.mapStyle);var o=this.props.zoom;if((0,f.isString)(this.props.center))n.centerAndZoom(this.props.center);else{var r=new BMap.Point(this.props.center.lng,this.props.center.lat);n.centerAndZoom(r,o)}this.bindToggleMeghods(n,this.toggleMethods),this.bindEvent(n,this.events);var i=o;n.addEventListener("zoomend",function(){var t=n.getZoom();e.props.zoom_changed&&e.props.zoom_changed(t,i),i=t})}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t&&this.map)return u.default.Children.map(t,function(t){if(t)return u.default.cloneElement(t,{map:e.map})})}},{key:"render",value:function(){var e={height:"100%",position:"relative"};for(var t in this.props.style)e[t]=this.props.style[t];return u.default.createElement("div",{style:e},u.default.createElement("div",{ref:"map",className:this.props.className,style:{height:"100%"}},"加载地图中..."),this.renderChildren())}},{key:"events",get:function(){return["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"]}},{key:"toggleMethods",get:function(){return{enableScrollWheelZoom:["enableScrollWheelZoom","disableScrollWheelZoom"],enableDragging:["enableDragging","disableDragging"],enableDoubleClickZoom:["enableDoubleClickZoom","disableDoubleClickZoom"],enableKeyboard:["enableKeyboard","disableKeyboard"],enableInertialDragging:["enableInertialDragging","disableInertialDragging"],enableContinuousZoom:["enableContinuousZoom","disableContinuousZoom"],enablePinchToZoom:["enablePinchToZoom","disablePinchToZoom"],enableAutoResize:["enableAutoResize","disableAutoResize"]}}},{key:"options",get:function(){return["minZoom","maxZoom","mapType","enableMapClick"]}}],[{key:"defaultProps",get:function(){return{style:{height:"350px"}}}}]),t}(p.default);t.default=h},"./node_modules/react-bmap/lib/components/mapv-layer.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/component.js"),u=o(l),c=n("./node_modules/mapv/build/mapv.js"),p=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"componentDidUpdate",value:function(e){var t=JSON.stringify(e.data),n=JSON.stringify(this.props.data);t==n&&this.map||this.initialize()}},{key:"initialize",value:function(){var e=this.props.map;if(e){if(this.map=e,this._createLayer||this.createLayers(),this.props.options.autoViewport){if("bd09mc"===this.props.options.coordType)var t=e.getMapType().getProjection(),n=this.props.data.map(function(e){return"Point"===e.geometry.type?t.pointToLngLat(new BMap.Pixel(e.geometry.coordinates[0],e.geometry.coordinates[1])):"Polygon"===e.geometry.type?t.pointToLngLat(new BMap.Pixel(e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1])):void 0});else var n=this.props.data.map(function(e){return"Point"===e.geometry.type?new BMap.Point(e.geometry.coordinates[0],e.geometry.coordinates[1]):"Polygon"===e.geometry.type?new BMap.Point(e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]):void 0});e.setViewport(n,this.props.options.viewportOptions)}this.dataSet.set(this.props.data),this.layer.update({options:this.props.options})}}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.layer.destroy(),this.layer=null}},{key:"createLayers",value:function(){this._createLayer=!0;var e=this.map,t=this.dataSet=new c.DataSet([]);this.layer=new c.baiduMapLayer(e,t,{})}}],[{key:"defaultProps",get:function(){return{}}}]),t}(u.default);t.default=p},"./node_modules/react-bmap/lib/components/mapv-marker-list.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/component.js"),u=o(l),c=n("./node_modules/mapv/build/mapv.js"),p=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"componentDidUpdate",value:function(e){var t=JSON.stringify(e.data),n=JSON.stringify(this.props.data);t==n&&this.map||this.initialize()}},{key:"initialize",value:function(){var e=this.props.map;e&&(this.map=e,this._createLayer||this.createLayers(),this.showDatasets(this.props.data))}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.shadowSet=null,this.circleSet=null,this.textSet=null,this.numSet=null,this.otherSet=null,this.otherShadowSet=null;for(var e=0;e<this.layers.length;e++)this.layers[e].destroy(),this.layers[e]=null}},{key:"showDatasets",value:function(e){var t=this,n=[],o=[],r=[],i=[],a=[],s=[];e.length>0&&(e.forEach(function(e,l){var u=e.location.split(","),c=t.project.pointToLngLat(new BMap.Pixel(u[0],u[1]));s.push(c),l<10?(n.push({geometry:{type:"Point",coordinates:[u[0],u[1]]},count:parseInt(e.count)}),o.push({geometry:{type:"Point",coordinates:[u[0],u[1]]},id:l,count:parseInt(e.count),text:parseInt(l)+1}),r.push({geometry:{type:"Point",coordinates:[u[0],u[1]]},count:parseInt(e.count),text:e.text})):(i.push({geometry:{type:"Point",coordinates:[u[0],u[1]]},id:l,count:parseInt(e.count)}),a.push({geometry:{type:"Point",coordinates:[u[0],u[1]]},count:parseInt(e.count)}))}),this.shadowSet.set(n),this.circleSet.set(o),this.textSet.set(r),this.numSet.set(o),this.otherSet.set(i),this.otherShadowSet.set(a),s.length>0&&this.props.autoViewport!==!1&&map.setViewport(s,self.props.viewportOptions))}},{key:"createLayers",value:function(){this._createLayer=!0;var e=this.map;this.project=e.getMapType().getProjection();var t=this,n=this.shadowSet=new c.DataSet([]),o=this.circleSet=new c.DataSet([]),r=this.textSet=new c.DataSet([]),i=this.numSet=new c.DataSet([]),a=this.otherSet=new c.DataSet([]),s=this.otherShadowSet=new c.DataSet([]);this.layers=[];var l={coordType:"bd09mc",splitList:{4:"#d53938",3:"#fe6261",2:"#ffb02d",other:"#80db69"},shadowBlur:10,size:5,max:30,methods:{click:function(e){e&&t.handleClick(e.id)},mousemove:function(e){a.update(function(e){e.fillStyle=null}),e?(t.isSmallPath=!0,t.props.map.setDefaultCursor("pointer"),a.update(function(e){e.fillStyle="#1495ff"},{id:e.id})):(t.isSmallPath=!1,t.isSmallPath||t.isBigPath||t.props.map.setDefaultCursor("auto"))}},draw:"category"},u={splitList:{4:"#d53938",3:"#fe6261",2:"#ffb02d",1:"#80db69"},styleType:"fill",globalAlpha:.4,coordType:"bd09mc",size:8,minSize:5,draw:"category"};if(this.layers.push(new c.baiduMapLayer(e,s,u)),this.layers.push(new c.baiduMapLayer(e,a,l)),this.props.animation===!0){var p={splitList:{4:"#d53938",3:"#fe6261",2:"#ffb02d",1:"#80db69"},styleType:"stroke",globalAlpha:.4,coordType:"bd09mc",size:20,minSize:10,draw:"category"};this.layers.push(new c.baiduMapAnimationLayer(e,n,p))}var f={splitList:{1:"#80db69",4:"#d53938",3:"#fe6261",2:"#ffb02d"},fillStyle:"red",coordType:"bd09mc",size:10,draw:"category",methods:{click:function(e){e&&t.handleClick(e.id)},mousemove:function(e){o.update(function(e){e.fillStyle=null}),e?(t.isBigPath=!0,t.map.setDefaultCursor("pointer"),o.update(function(e){e.fillStyle="#1495ff"},{id:e.id})):(t.isBigPath=!1,t.isBigPath||t.isSmallPath||t.map.setDefaultCursor("auto"))}}};this.layers.push(new c.baiduMapLayer(e,o,f));var h={coordType:"bd09mc",draw:"text",font:"13px Arial",fillStyle:"#ffffff",shadowColor:"#ffffff",shadowBlur:10};this.layers.push(new c.baiduMapLayer(e,i,h));var d={coordType:"bd09mc",font:"13px Arial",fillStyle:"#666",shadowColor:"#ffffff",shadowBlur:10,draw:"text",avoid:!0,textAlign:"left",offset:{x:10,y:0}};this.layers.push(new c.baiduMapLayer(e,r,d))}},{key:"render",value:function(){return null}}],[{key:"defaultProps",get:function(){return{autoViewport:!0}}}]),t}(u.default);t.default=p},"./node_modules/react-bmap/lib/components/marker-list.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/component.js"),u=o(l),c=n("./node_modules/mapv/build/mapv.js"),p=n("./node_modules/react-bmap/lib/overlay/NumberMarker.js"),f=o(p),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e){var t=JSON.stringify(e.data),n=JSON.stringify(this.props.data);t==n&&this.map?this.setViewport():this.initialize()}},{key:"componentDidMount",value:function(){this.markers=[],this.initialize()}},{key:"componentWillUnmount",value:function(){this.clearMarkers(),this.textLayer&&(this.textLayer.destroy(),this.textLayer=null),this.animationLayer&&(this.animationLayer.destroy(),this.animationLayer=null)}},{key:"clearMarkers",value:function(){for(var e=0;e<this.markers.length;e++)this.map.removeOverlay(this.markers[e]),this.markers[e]=null;this.markers.length=0}},{key:"initialize",value:function(){var e=this,t=this.props.map;if(t){if(this.map=t,this.clearMarkers(),!this.textLayer){this.dataSet=new c.DataSet([]);var n=this.props.textOptions||{fillStyle:"#666666",shadowBlur:5,shadowColor:"rgba(0, 0, 0, 0.1)",globalAlpha:"0.9",textAlign:"left",offset:{x:15,y:0},coordType:this.props.coordType,avoid:!0,size:12,textKey:"text",draw:"text"};this.props.isShowText!==!1&&(this.textLayer=new c.baiduMapLayer(t,this.dataSet,n))}if(!this.animationLayer&&this.props.animation===!0){var o=this.props.splitList||{};o.other=this.props.fillStyle||"rgba(50, 50, 255, 0.5)";var r={styleType:"stroke",strokeStyle:this.props.fillStyle||"rgba(20, 249, 255, 0.5)",
coordType:this.props.coordType,splitList:o,globalAlpha:.4,size:this.props.multiple?20:26,minSize:this.props.multiple?10:13,draw:"category"};this.animationLayer=new c.baiduMapAnimationLayer(t,this.dataSet,r)}for(var i=t.getMapType().getProjection(),a=this.props.data,s=[],l=0;l<a.length;l++)if((void 0===this.props.showIndex||this.props.showIndex==l)&&a[l].location){var u=a[l].location.split(",");if(this.props.coordType&&"bd09mc"===this.props.coordType)var p=i.pointToLngLat(new BMap.Pixel(u[0],u[1]));else var p=new BMap.Point(u[0],u[1]);var h=a[l].color||this.props.fillStyle||"#1495ff";this.props.splitList&&(h=this.props.splitList[a[l].count]?this.props.splitList[a[l].count]:this.props.splitList.other);var n={point:p,fillStyle:h,isShowShadow:this.props.isShowShadow,size:26,zIndex:a.length-l,number:l+1};this.props.multiple&&(n.size=20,n.lineWidth=0,l>=10&&(n.isShowNumber=!1,n.size=10,n.strokeStyle=h,n.lineWidth=3,n.strokeOpacity=.4));var d=new f.default(n);d.addEventListener("click",function(t,n){e.props.onClick&&e.props.onClick(n-1)}),d.addEventListener("mouseover",function(t,n){e.props.onMouseOver&&e.props.onMouseOver(n-1)}),d.addEventListener("mouseout",function(t,n){e.props.onMouseOut&&e.props.onMouseOut(n-1)}),d.index=l,this.markers.push(d),s.push({geometry:{type:"Point",coordinates:[u[0],u[1]]},count:a[l].count,text:a[l].text})}for(var g=this.markers.length;g--;)t.addOverlay(this.markers[g]);this.dataSet.set(s.splice(0,10)),this.setViewport()}}},{key:"setViewport",value:function(){var e=this.props.map;if(e){for(var t=this.props.data,n=e.getMapType().getProjection(),o=[],r=0;r<t.length;r++)if(t[r].location){var i=t[r].location.split(",");if(this.props.coordType&&"bd09mc"===this.props.coordType)var a=n.pointToLngLat(new BMap.Pixel(i[0],i[1]));else var a=new BMap.Point(i[0],i[1]);o.push(a)}o.length>0&&this.props.autoViewport!==!1&&e.setViewport(o,this.props.viewportOptions)}}}],[{key:"defaultProps",get:function(){return{autoViewport:!0}}}]),t}(u.default);t.default=h},"./node_modules/react-bmap/lib/components/marker.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});for(var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),l=n("./node_modules/react/react.js"),u=o(l),c=n("./node_modules/react-dom/index.js"),p=n("./node_modules/react-bmap/lib/components/component.js"),f=o(p),h=n("./node_modules/react-bmap/lib/overlay/CustomOverlay.js"),d=o(h),g="http://webmap1.map.bdstatic.com/wolfman/static/common/images/markers_new2x_fbb9e99.png",y={simple_red:new BMap.Icon(g,new BMap.Size(21,33),{imageOffset:new BMap.Size(-227,-189),anchor:new BMap.Size(10.5,16.5),imageSize:new BMap.Size(300,300)}),simple_blue:new BMap.Icon(g,new BMap.Size(21,33),{imageOffset:new BMap.Size(-227,-225),anchor:new BMap.Size(10.5,16.5),imageSize:new BMap.Size(300,300)}),loc_red:new BMap.Icon(g,new BMap.Size(23,35),{imageOffset:new BMap.Size(-200,-189),anchor:new BMap.Size(11.5,17.5),imageSize:new BMap.Size(300,300)}),loc_blue:new BMap.Icon(g,new BMap.Size(23,35),{imageOffset:new BMap.Size(-200,-225),anchor:new BMap.Size(11.5,17.5),imageSize:new BMap.Size(300,300)}),start:new BMap.Icon(g,new BMap.Size(25,40),{imageOffset:new BMap.Size(-200,-139),anchor:new BMap.Size(12.5,20),imageSize:new BMap.Size(300,300)}),end:new BMap.Icon(g,new BMap.Size(25,40),{imageOffset:new BMap.Size(-225,-139),anchor:new BMap.Size(12.5,20),imageSize:new BMap.Size(300,300)})},v=1;v<=10;v++)y["red"+v]=new BMap.Icon(g,new BMap.Size(21,33),{imageOffset:new BMap.Size(0-21*(v-1),0),anchor:new BMap.Size(10.5,16.5),imageSize:new BMap.Size(300,300)});var m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){this.props.map.removeOverlay(this.marker),this.marker=null}},{key:"initialize",value:function(){var e=this.props.map;if(e){this.destroy();var t,n=this.props.icon;if(t=n&&n instanceof BMap.Icon?n:n&&y[n]?y[n]:y.simple_red,"bd09mc"===this.props.coordType)var o=e.getMapType().getProjection(),r=o.pointToLngLat(new BMap.Pixel(this.props.position.lng,this.props.position.lat));else var r=new BMap.Point(this.props.position.lng,this.props.position.lat);if("children"in this.props){this.contentDom=document.createElement("div");var i=this.props.children;(0,c.render)(u.default.createElement("div",null,i),this.contentDom),this.marker=new d.default(r,this.contentDom,this.props.offset),e.addOverlay(this.marker)}else{var a=this.getOptions(this.options);a.icon=t,this.marker=new BMap.Marker(r,a),this.props.isTop&&this.marker.setTop(!0),this.bindEvent(this.marker,this.events),e.addOverlay(this.marker),this.bindToggleMeghods(this.marker,this.toggleMethods)}this.props.autoViewport&&e.panTo(r),this.props.autoCenterAndZoom&&e.setViewport([r],this.props.centerAndZoomOptions)}}},{key:"events",get:function(){return["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"]}},{key:"toggleMethods",get:function(){return{enableMassClear:["enableMassClear","disableMassClear"],enableDragging:["enableDragging","disableDragging"]}}},{key:"options",get:function(){return["offset","icon","enableMassClear","enableDragging","enableClicking","raiseOnDrag","draggingCursor","rotation","shadow","title"]}}],[{key:"defaultProps",get:function(){return{}}}]),t}(f.default);t.default=m},"./node_modules/react-bmap/lib/components/navigation-control.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/control.js"),u=o(l),c=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"getControl",value:function(){return new BMap.NavigationControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset","type","showZoomInfo","enableGeolocation"]}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/components/overview-map-control.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/control.js"),u=o(l),c=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"getControl",value:function(){return new BMap.OverviewMapControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset","size","isOpen"]}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/components/polygon.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/graphy.js"),u=o(l),c=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"getOverlay",value:function(){var e=this.props.path;return e=e.map(function(e){return new BMap.Point(e.lng,e.lat)}),new BMap.Polygon(e,this.getOptions(this.options))}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/components/polyline.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/graphy.js"),u=o(l),c=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"getOverlay",value:function(){var e=this.props.path;return e=e.map(function(e){return new BMap.Point(e.lng,e.lat)}),new BMap.Polyline(e,this.getOptions(this.options))}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/components/road.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/component.js"),u=o(l),c=n("./node_modules/mapv/build/mapv.js"),p=n("./node_modules/react-bmap/lib/utils/map-line.js"),f=o(p),h=n("./node_modules/react-bmap/lib/utils/geo-utils.js"),d=o(h),g=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"getRoadPoints",value:function(e){for(var t=[],n=0;n<e.length;n++)for(var o=e[n].split(","),r=0;r<o.length;r+=2)t.push(new BMap.Point(o[r],o[r+1]));return t}},{key:"updateViewport",value:function(){var e=this,t=(this.props.roadPath,[]);this.props.roadPaths?this.props.roadPaths.forEach(function(n){t=t.concat(e.getRoadPoints(n))}):this.props.roadPath&&(t=t.concat(this.getRoadPoints(this.props.roadPath))),t.length>0&&this.props.autoViewport!==!1&&this.props.map.setViewport(t,this.props.viewportOptions)}},{key:"getRoadGroup",value:function(e,t,n){var e=e,t=t,n=n,o={},r=[];if(t)for(var i=0;i<t.length;i++)o[t[i]]||(o[t[i]]={roadPath:[],color:n[t[i]]}),r.push(e[i]),o[t[i]].roadPath.push(e[i]);else o[0]={roadPath:e,color:this.props.color||"#1495ff"};return{group:o,allPath:d.default.mergeRoadPath(e)}}},{key:"isClick",value:function(e,t,n){var o=this.canvasLayer.canvas.getContext("2d"),r=this.getRoadGroup(n);o.beginPath(),f.default.drawRoads(e,o,r.allPath,{color:"#fff",lineWidth:14,lineCap:"butt",arrow:!1,line:!1}),o.lineWidth=16;var i=o.isPointInStroke(t.x*window.devicePixelRatio,t.y*window.devicePixelRatio);return i}},{key:"initialize",value:function(){var e=this,t=this.props.map;if(t){var n=this.canvasLayerUpdate.bind(this);this.canvasLayer?this.canvasLayer.draw():(this.canvasLayer=new c.baiduMapCanvasLayer({zIndex:this.props.zIndex,map:t,update:function(){n(this)}}),this.props.onClick&&t.addEventListener("click",function(n){var o=!1;if(e.props.roadPaths)for(var r=0;r<e.props.roadPaths.length;r++){var i=e.props.roadPaths[r];o=e.isClick(t,n.pixel,i),o&&e.props.onClick(r)}else e.props.roadPath&&(o=e.isClick(t,n.pixel,e.props.roadPath),o&&e.props.onClick())})),this.updateViewport()}}},{key:"canvasLayerUpdate",value:function(e){var t=this,n=e.canvas.getContext("2d");if(!n)return!1;n.clearRect(0,0,n.canvas.width,n.canvas.height);var o=this.props.roadPath,r=this.props.roadPaths;r?r.forEach(function(e){t.drawRoad(n,e,t.props.category,t.props.splitList)}):o&&this.drawRoad(n,this.props.roadPath,this.props.category,this.props.splitList)}},{key:"drawRoad",value:function(e,t,n,o){var r=this.getRoadGroup(t,n,o),i=r.group;f.default.drawRoads(this.props.map,e,r.allPath,{color:"#fff",lineWidth:14,lineCap:"butt",arrow:!1,line:!0});for(var a in i){var s=i[a],t=d.default.mergeRoadPath(s.roadPath);f.default.drawRoads(this.props.map,e,t,{color:s.color,line:!0,lineWidth:10,lineCap:"butt",arrow:!1})}f.default.drawRoads(this.props.map,e,r.allPath,{color:s.color,lineWidth:10,border:{},lineCap:"butt",arrow:{width:5,height:3}})}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.canvasLayer.hide()}}]),t}(u.default);t.default=g},"./node_modules/react-bmap/lib/components/scale-control.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/control.js"),u=o(l),c=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"getControl",value:function(){return new BMap.ScaleControl(this.getOptions(this.options))}},{key:"options",get:function(){return["anchor","offset"]}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/components/traffic-layer.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react-bmap/lib/components/component.js"),u=o(l),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.initialize()}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.props.map.removeTileLayer(this.tileLayer),this.tileLayer=null}},{key:"initialize",value:function(){var e=this.props.map;if(e){if(!this.tileLayer){this.tileLayer=new BMap.TileLayer({isTransparentPng:!0});var t=Math.round(window.devicePixelRatio||1);t=Math.min(2,t),t=Math.max(1,t),this.tileLayer.getTilesUrl=function(e,n){var o=e.x,r=e.y,i=(new Date).getTime();return"http://its.map.baidu.com:8002/traffic/TrafficTileService?level="+n+"&x="+o+"&y="+r+"&time="+i+"&v=081&scaler="+t}}e.addTileLayer(this.tileLayer)}}}]),t}(u.default);t.default=c},"./node_modules/react-bmap/lib/index.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react-bmap/lib/components/map.js");Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return o(r).default}});var i=n("./node_modules/react-bmap/lib/components/marker.js");Object.defineProperty(t,"Marker",{enumerable:!0,get:function(){return o(i).default}});var a=n("./node_modules/react-bmap/lib/components/infowindow.js");Object.defineProperty(t,"InfoWindow",{enumerable:!0,get:function(){return o(a).default}});var s=n("./node_modules/react-bmap/lib/components/navigation-control.js");Object.defineProperty(t,"NavigationControl",{enumerable:!0,get:function(){return o(s).default}});var l=n("./node_modules/react-bmap/lib/components/overview-map-control.js");Object.defineProperty(t,"OverviewMapControl",{enumerable:!0,get:function(){return o(l).default}});var u=n("./node_modules/react-bmap/lib/components/scale-control.js");Object.defineProperty(t,"ScaleControl",{enumerable:!0,get:function(){return o(u).default}});var c=n("./node_modules/react-bmap/lib/components/map-type-control.js");Object.defineProperty(t,"MapTypeControl",{enumerable:!0,get:function(){return o(c).default}});var p=n("./node_modules/react-bmap/lib/components/circle.js");Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return o(p).default}});var f=n("./node_modules/react-bmap/lib/components/polyline.js");Object.defineProperty(t,"Polyline",{enumerable:!0,get:function(){return o(f).default}});var h=n("./node_modules/react-bmap/lib/components/polygon.js");Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return o(h).default}});var d=n("./node_modules/react-bmap/lib/components/road.js");Object.defineProperty(t,"Road",{enumerable:!0,get:function(){return o(d).default}});var g=n("./node_modules/react-bmap/lib/components/boundary.js");Object.defineProperty(t,"Boundary",{enumerable:!0,get:function(){return o(g).default}});var y=n("./node_modules/react-bmap/lib/components/marker-list.js");Object.defineProperty(t,"MarkerList",{enumerable:!0,get:function(){return o(y).default}});var v=n("./node_modules/react-bmap/lib/components/mapv-marker-list.js");Object.defineProperty(t,"MapvMarkerList",{enumerable:!0,get:function(){return o(v).default}});var m=n("./node_modules/react-bmap/lib/components/traffic-layer.js");Object.defineProperty(t,"TrafficLayer",{enumerable:!0,get:function(){return o(m).default}});var b=n("./node_modules/react-bmap/lib/utils/merge.js");Object.defineProperty(t,"Merge",{enumerable:!0,get:function(){return o(b).default}});var _=n("./node_modules/react-bmap/lib/components/mapv-layer.js");Object.defineProperty(t,"MapvLayer",{enumerable:!0,get:function(){return o(_).default}});var w=n("./node_modules/react-bmap/lib/components/driving-route.js");Object.defineProperty(t,"DrivingRoute",{enumerable:!0,get:function(){return o(w).default}})},"./node_modules/react-bmap/lib/overlay/CustomOverlay.js":function(e,t,n){"use strict";function o(e,t,n){this._point=e,this.content=t,this.offset=n||new BMap.Size(0,0)}Object.defineProperty(t,"__esModule",{value:!0}),o.prototype=new BMap.Overlay,o.prototype.initialize=function(e){this._map=e;var t=this._div=document.createElement("div");return t.style.position="absolute",t.style.zIndex=BMap.Overlay.getZIndex(this._point.lat),"[object String]"==Object.prototype.toString.call(this.content)?t.innerHTML=this.content:t.appendChild(this.content),e.getPanes().labelPane.appendChild(t),t},o.prototype.draw=function(){var e=this._map,t=e.pointToOverlayPixel(this._point);this._div.style.left=t.x+this.offset.width+"px",this._div.style.top=t.y+this.offset.height+"px"},t.default=o},"./node_modules/react-bmap/lib/overlay/NumberMarker.js":function(e,t,n){"use strict";function o(e){this.options=e||{},this._point=e.point,this._fillColor=e.fillStyle||"#1495ff",this._size=e.size||30,this._lineWidth=void 0===e.lineWidth?2:e.lineWidth,this._strokeStyle=e.strokeStyle||"#ffffff",e.strokeOpacity&&(this._strokeStyle=r(this._strokeStyle,.4))}function r(e,t){var n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,o=e.toLowerCase();if(o&&n.test(o)){if(4===o.length){for(var r="#",i=1;i<4;i+=1)r+=o.slice(i,i+1).concat(o.slice(i,i+1));o=r}for(var a=[],i=1;i<7;i+=2)a.push(parseInt("0x"+o.slice(i,i+2)));return t?(a.push(t),"rgba("+a.join(",")+")"):"rgb("+a.join(",")+")"}return o}Object.defineProperty(t,"__esModule",{value:!0}),o.prototype=new BMap.Overlay,o.prototype.initialize=function(e){this._map=e;var t=this._div=document.createElement("div"),n=t.style;n.position="absolute",n.backgroundClip="padding-box",n.zIndex=this.options.zIndex||BMap.Overlay.getZIndex(this._point.lat),n.backgroundColor=this._fillColor,this.options.isShowShadow!==!1&&(n.boxShadow="0 0 5px rgba(0, 0, 0, 0.5)"),n.border=this._lineWidth+"px solid "+this._strokeStyle,n.color="white",n.textShadow="0px 0px 5px #fff",n.width=this._size+"px",n.boxSizing="content-box",n.borderRadius="30px",n.height=this._size+"px",n.lineHeight=this._size+"px",n.fontSize="12px",n.cursor="pointer",n.textAlign="center",n.MozUserSelect="none",this.options.number&&this.options.isShowNumber!==!1&&(t.innerHTML=this.options.number);var o=this;return t.addEventListener("mouseover",function(){o.dispatchEvent("mouseover",o.options.number),n.backgroundColor="#1495ff"}),t.addEventListener("mouseout",function(){o.dispatchEvent("mouseout",o.options.number),n.backgroundColor=o._fillColor}),t.addEventListener("click",function(){o.dispatchEvent("click",o.options.number)}),e.getPanes().markerPane.appendChild(t),t},o.prototype.draw=function(){var e=this._map,t=e.pointToOverlayPixel(this._point);this._div.style.left=t.x-(this._size+this._lineWidth)/2+1+"px",this._div.style.top=t.y-(this._size+this._lineWidth)/2+"px"},t.default=o},"./node_modules/react-bmap/lib/utils/common.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)}},"./node_modules/react-bmap/lib/utils/geo-utils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={mergeRoadPath:function(e,t){for(var n=[],o=0;o<e.length;o++)if(0==n.length)n.push(e[o]);else{var r=e[o].split(","),i=n[n.length-1].split(",");if(r[0]===i[i.length-2]&&r[1]===i[i.length-1]){var a=r.slice(2);n[n.length-1]+=","+a.join(",")}else n.push(e[o])}return n=this.uniqueRoadPath(n)},uniqueRoadPath:function(e){for(var t=0;t<e.length-1;t++)if(e[t])for(var n=e[t].split(","),o=t+1;o<e.length;o++)if(e[o]){for(var r=e[o].split(","),i=!0,a=0;a<r.length;a+=2){var s=this.isPointOnPolyline({lng:r[a],lat:r[a+1]},n);0==s&&(i=!1)}i&&delete e[o]}return e},isPointOnPolyline:function(e,t){for(var n=t,o=0;o<n.length-2;o++){var r={lng:n[o],lat:n[o+1]},i={lng:n[o+2],lat:n[o+3]};if(e.lng>=Math.min(r.lng,i.lng)&&e.lng<=Math.max(r.lng,i.lng)&&e.lat>=Math.min(r.lat,i.lat)&&e.lat<=Math.max(r.lat,i.lat)){var a=(r.lng-e.lng)*(i.lat-e.lat)-(i.lng-e.lng)*(r.lat-e.lat),s=2e-10;if(s=2e-9,a<s&&a>-s)return!0}}return!1}};t.default=o},"./node_modules/react-bmap/lib/utils/map-line.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={0:"#fff",1:"#00dc35",2:"#f3e032",3:"#ff6c6c",4:"#900000"},r={drawRoads:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.getZoom(),a=r.lineWidth||5,s=void 0===r.level?1:r.level,l=null,u=0,c=0,p=[],f=[],h=[],d=0,g=0;return t.beginPath(),n.forEach(function(n,o){var i=null;l=null;for(var a=n.split(","),s=0;s<a.length;s+=2){var y=new BMap.Point(a[s],a[s+1]);f.push(y);var v=e.pointToPixel(y),m=void 0;if(l){var b=v.x-l.x,_=v.y-l.y;u=Math.sqrt(b*b+_*_),c+=u,r.arrow&&(d+=u,g+=u,m={start:l,end:v,offset:50-(d-u),depth:u,totalDepth:g},p.push(m),d>=50&&(h.push(m),d%=50))}l=v,0===s?(i=i||v,t.moveTo(v.x,v.y)):(c>15||s>=a.length-2)&&(c=0,t.lineTo(v.x,v.y))}if(r.arrow&&o===n.length-1&&g<100){var w=p[Math.ceil(p.length/2)];for(var x in p)if(p[x].totalDepth>=g/2){w=p[x+1]?p[x+1]:p[x];break}var P=p[p.length-1];w.end=P.end,h=[],h.push(w)}}),r.line&&(t.lineCap=r.lineCap||"round",t.lineJoin="round",r.border&&(t.strokeStyle=r.border.color||"white",t.lineWidth=(i<=13?a-2:a)+(2*r.border.lineWidth||4),t.stroke()),t.strokeStyle=r.color||o[s]||"#fc2c2b",t.lineWidth=i<=13?a-2:a,t.stroke()),r.arrow&&this.drawArrow(t,h,r),f},drawArrow:function(e,t,n){e.beginPath(),t.forEach(function(o){var r=o.start.x,i=o.start.y,a=o.end.x,s=o.end.y,l=a-r,u=s-i,c=[0,-1],p=[o.end.x-o.start.x,o.end.y-o.start.y],f=c[0]*p[0]+c[1]*p[1],h=Math.sqrt(c[0]*c[0]+c[1]*c[1]),d=Math.sqrt(p[0]*p[0]+p[1]*p[1]),g=Math.acos(f/(h*d));p[0]<0&&(g=2*Math.PI-g);for(var y=n.arrow.width/2||2,v=n.arrow.height||y,m=0;o.offset+50*m<=o.depth;){var b=o.offset+50*m,_=b/o.depth;e.save(),e.translate(r+l*_,i+u*_),e.rotate(g),e.moveTo(1.618*-y,v),e.lineTo(0,0),e.lineTo(1.618*y,v),e.restore(),m+=1}1===t.length&&o.offset>o.depth&&(e.save(),e.translate(r,i),e.rotate(g),e.moveTo(1.618*-y,v),e.lineTo(0,0),e.lineTo(1.618*y,v),e.restore())}),e.strokeStyle="#fff",e.lineWidth=3,e.stroke()}};t.default=r},"./node_modules/react-bmap/lib/utils/merge.js":function(e,t,n){"use strict";function o(e){this.polyline=e;for(var t=e[0],n=e[0],o=e[1],r=e[1],i=2;i<e.length;i+=2)t=Math.min(t,e[i]),n=Math.max(n,e[i]),o=Math.min(o,e[i+1]),r=Math.max(r,e[i+1]);this.minX=t,this.maxX=n,this.minY=o,this.maxY=r}Object.defineProperty(t,"__esModule",{value:!0});var r={mergeRoadPath:function(e,t){if(e){for(var n=[],o=0;o<e.length;o++)if(0==n.length)n.push(e[o]);else{for(var r=e[o].split(","),i=!1,a=0;a<n.length;a++){var s=n[a].split(",");if(r[0]===s[s.length-2]&&r[1]===s[s.length-1]){var l=r.slice(2);n[a]+=","+l.join(","),i=!0}if(r[r.length-2]===s[0]&&r[r.length-1]===s[1]){var l=r.slice(0,r.length-2);n[a]=l.join(",")+","+n[a],i=!0}}i===!1&&n.push(e[o])}return n=this.uniqueRoadPath(n)}},uniqueRoadPath:function(e){for(var t=e.map(function(e){return new o(e.split(","))}),n=0;n<t.length-1;n++)if(t[n])for(var r=t[n],i=n+1;i<t.length;i++)if(t[i]){var a=t[i];a.isInclude(r)&&delete t[i]}var s=[];return t.map(function(e){e&&s.push(e.getPoints().join(","))}),s}};o.prototype.getPoints=function(){return this.polyline},o.prototype.isInBound=function(e){return e.lng>this.minX&&e.lat>this.minY&&e.lng<this.maxX&&e.lat<this.maxY},o.prototype.isInclude=function(e){if(!(e.minX>this.minX&&e.minY>this.minY&&e.maxX<this.maxX&&e.maxY<this.maxY))return!1;for(var t=this.getPoints(),n=!0,o=0;o<t.length;o+=2){var r=this.isPointOnPolyline({lng:t[o],lat:t[o+1]},e);0==r&&(n=!1)}return n},o.prototype.isPointOnPolyline=function(e,t){var n=t.getPoints();if(!t.isInBound(e))return!1;for(var o=0;o<n.length-2;o++){var r={lng:n[o],lat:n[o+1]},i={lng:n[o+2],lat:n[o+3]};if(e.lng>=Math.min(r.lng,i.lng)&&e.lng<=Math.max(r.lng,i.lng)&&e.lat>=Math.min(r.lat,i.lat)&&e.lat<=Math.max(r.lat,i.lat)){var a=(r.lng-e.lng)*(i.lat-e.lat)-(i.lng-e.lng)*(r.lat-e.lat),s=2e-10;if(s=2e-9,a<s&&a>-s)return!0}}return!1},t.default=r},"./node_modules/react-bootstrap/lib/ButtonToolbar.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n("./node_modules/babel-runtime/helpers/extends.js"),i=o(r),a=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),s=o(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=o(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=o(c),f=n("./node_modules/babel-runtime/helpers/inherits.js"),h=o(f),d=n("./node_modules/classnames/index.js"),g=o(d),y=n("./node_modules/react/react.js"),v=o(y),m=n("./node_modules/react-bootstrap/lib/utils/bootstrapUtils.js"),b=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,e.apply(this,arguments))}return(0,h.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(0,s.default)(e,["className"]),o=(0,m.splitBsProps)(n),r=o[0],a=o[1],l=(0,m.getClassSet)(r);return v.default.createElement("div",(0,i.default)({},a,{role:"toolbar",className:(0,g.default)(t,l)}))},t}(v.default.Component);t.default=(0,m.bsClass)("btn-toolbar",b),e.exports=t.default},"./node_modules/react-bootstrap/lib/ToggleButton.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n("./node_modules/babel-runtime/helpers/extends.js"),i=o(r),a=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),s=o(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=o(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=o(c),f=n("./node_modules/babel-runtime/helpers/inherits.js"),h=o(f),d=n("./node_modules/react-bootstrap/node_modules/prop-types/index.js"),g=o(d),y=n("./node_modules/react/react.js"),v=o(y),m=n("./node_modules/react-bootstrap/lib/Button.js"),b=o(m),_={
type:g.default.oneOf(["checkbox","radio"]),name:g.default.string,checked:g.default.bool,disabled:g.default.bool,onChange:g.default.func,value:g.default.any.isRequired},w=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,e.apply(this,arguments))}return(0,h.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.name,o=e.checked,r=e.type,a=e.onChange,l=e.value,u=(0,s.default)(e,["children","name","checked","type","onChange","value"]),c=u.disabled;return v.default.createElement(b.default,(0,i.default)({},u,{active:!!o,componentClass:"label"}),v.default.createElement("input",{name:n,type:r,autoComplete:"off",value:l,checked:!!o,disabled:!!c,onChange:a}),t)},t}(v.default.Component);w.propTypes=_,t.default=w,e.exports=t.default},"./node_modules/react-bootstrap/lib/ToggleButtonGroup.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n("./node_modules/babel-runtime/helpers/extends.js"),i=o(r),a=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),s=o(a),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=o(l),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=o(c),f=n("./node_modules/babel-runtime/helpers/inherits.js"),h=o(f),d=n("./node_modules/react-bootstrap/node_modules/prop-types/index.js"),g=o(d),y=n("./node_modules/react/react.js"),v=o(y),m=n("./node_modules/invariant/browser.js"),b=o(m),_=n("./node_modules/uncontrollable/index.js"),w=o(_),x=n("./node_modules/react-bootstrap/lib/utils/createChainedFunction.js"),P=o(x),O=n("./node_modules/react-bootstrap/lib/utils/ValidComponentChildren.js"),j=o(O),k=n("./node_modules/react-bootstrap/lib/ButtonGroup.js"),M=o(k),S=n("./node_modules/react-bootstrap/lib/ToggleButton.js"),C=o(S),E={name:g.default.string,value:g.default.any,onChange:g.default.func,type:g.default.oneOf(["checkbox","radio"]).isRequired},T={type:"radio"},L=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,e.apply(this,arguments))}return(0,h.default)(t,e),t.prototype.getValues=function(){var e=this.props.value;return null==e?[]:[].concat(e)},t.prototype.handleToggle=function(e){var t=this.props,n=t.type,o=t.onChange,r=this.getValues(),i=r.indexOf(e)!==-1;return"radio"===n?void(i||o(e)):void o(i?r.filter(function(t){return t!==e}):[].concat(r,[e]))},t.prototype.render=function(){var e=this,t=this.props,n=t.children,o=t.type,r=t.name,a=(0,s.default)(t,["children","type","name"]),l=this.getValues();return"radio"!==o||r?void 0:(0,b.default)(!1),delete a.onChange,delete a.value,v.default.createElement(M.default,(0,i.default)({},a,{"data-toggle":"buttons"}),j.default.map(n,function(t){var n=t.props,i=n.value,a=n.onChange,s=function(){return e.handleToggle(i)};return v.default.cloneElement(t,{type:o,name:t.name||r,checked:l.indexOf(i)!==-1,onChange:(0,P.default)(a,s)})}))},t}(v.default.Component);L.propTypes=E,L.defaultProps=T;var z=(0,w.default)(L,{value:"onChange"});z.Button=C.default,t.default=z,e.exports=t.default},"./node_modules/redux-auth-wrapper/lib/index.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.UserAuthWrapper=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n("./node_modules/react/react.js"),f=o(p),h=n("./node_modules/react-redux/lib/index.js"),d=n("./node_modules/hoist-non-react-statics/index.js"),g=o(d),y=n("./node_modules/lodash.isempty/index.js"),v=o(y),m={LoadingComponent:function(){return null},failureRedirectPath:"/login",FailureComponent:void 0,redirectQueryParamName:"redirect",wrapperDisplayName:"AuthWrapper",predicate:function(e){return!(0,v.default)(e)},authenticatingSelector:function(){return!1},allowRedirectBack:!0};t.UserAuthWrapper=function(e){function t(e){var t,n,l,m,w=e.displayName||e.name||"Component",x=function(e){return void 0!==P?{redirect:function(t){return e(P(t))}}:{}},O=(t=(0,h.connect)(function(e,t){return{authData:o(e,t,!1),failureRedirectPath:"function"==typeof v?v(e,t):v,isAuthenticating:d(e,t)}},x),t((m=l=function(t){function n(){var e,t,o,r;i(this,n);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return t=o=a(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.getRedirectFunc=function(e){var t=e.redirect;if(t)return t;if(o.context.router.replace)return o.context.router.replace;throw new Error("You must provide a router context (or use React-Router 2.x) if not passing a redirectAction to "+_)},r=t,a(o,r)}return s(n,t),c(n,[{key:"componentWillMount",value:function(){this.props.isAuthenticating||j(this.props.authData)||!M||k(this.props.location,this.getRedirectFunc(this.props),this.props.failureRedirectPath)}},{key:"componentWillReceiveProps",value:function(e){var t=j(e.authData),n=e.isAuthenticating,o=j(this.props.authData),r=this.props.isAuthenticating;!n&&M&&(o&&!t||r&&!t)&&k(e.location,this.getRedirectFunc(e),e.failureRedirectPath)}},{key:"render",value:function(){var t=this.props,n=(t.redirect,t.authData),o=t.isAuthenticating,i=r(t,["redirect","authData","isAuthenticating"]);return j(n)?f.default.createElement(e,u({authData:n},i)):o?f.default.createElement(y,u({authData:n},i)):b?f.default.createElement(b,u({authData:n},i)):null}}]),n}(p.Component),l.displayName=_+"("+w+")",l.propTypes={failureRedirectPath:p.PropTypes.string.isRequired,location:M?S.isRequired:S,redirect:p.PropTypes.func,authData:p.PropTypes.object},l.contextTypes={router:p.PropTypes.object},n=m))||n);return(0,g.default)(O,e)}var n=u({},m,e),o=n.authSelector,d=n.authenticatingSelector,y=n.LoadingComponent,v=n.failureRedirectPath,b=n.FailureComponent,_=n.wrapperDisplayName,w=n.predicate,x=n.allowRedirectBack,P=n.redirectAction,O=n.redirectQueryParamName,j=function(e){return w(e)},k=function(e,t,n){var o=void 0;o=x?l({},O,""+e.pathname+e.search):{},t({pathname:n,query:o})},M=void 0===b,S=p.PropTypes.shape({pathname:p.PropTypes.string.isRequired,search:p.PropTypes.string.isRequired});return M&&(t.onEnter=function(e,t,n){var r=o(e.getState(),null,!0),i="function"==typeof v?v(e.getState(),null):v;j(r)||k(t.location,n,i)}),t}}});